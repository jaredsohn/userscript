// ==UserScript==
// @name youdaoGWZS
// @description 有道购物助手
// @update 2013-06-21
// @create 2011-12-30
// @version 0.1
// @author Harv
// @namespace http://userscripts.org/users/Harv
// @updateURL https://userscripts.org/scripts/source/121808.meta.js
// @downloadURL https://userscripts.org/scripts/source/121808.user.js
// @include http://*.001town.com/*
// @include http://*.01goo.com/*
// @include http://*.03l.cn/*
// @include http://*.133china.com/*
// @include http://*.139shop.com/*
// @include http://yxp.163.com/*
// @include http://*.168dg.com/*
// @include http://*.186mall.com/*
// @include http://*.18to82.com/*
// @include http://*.1j.cn/*
// @include http://*.22shop.com/*
// @include http://*.24dq.com/*
// @include http://*.24quan.com/*
// @include http://*.258sd.com/*
// @include http://*.2688.com/*
// @include http://*.360buy.com/*
// @include http://*.360hqb.com/*
// @include http://*.360kxr.com/*
// @include http://*.360mart.com/*
// @include http://*.365goba.com/*
// @include http://*.38hzt.com/*
// @include http://*.39ty.com/*
// @include http://*.4inlook.com/*
// @include http://*.5188bag.com/*
// @include http://*.51buy.com/*
// @include http://*.51dg.com/*
// @include http://*.51eng.com/*
// @include http://*.51sheyuan.com/*
// @include http://*.51youpin.com/*
// @include http://*.520eye.com/*
// @include http://*.52shehua.com/*
// @include http://*.5366.com/*
// @include http://t.58.com/*
// @include http://*.58hua.com/*
// @include http://*.5lux.com/*
// @include http://*.5yth.com/*
// @include http://*.6919.com/*
// @include http://*.6sbuy.com/*
// @include http://*.77toy.com/*
// @include http://*.7caihua.com/*
// @include http://*.7cv.com/*
// @include http://*.7sev.com/*
// @include http://*.80ebus.com/*
// @include http://*.8801.net/*
// @include http://*.919it.com/*
// @include http://*.929.cn/*
// @include http://*.942radio.com/*
// @include http://b2c.958shop.com/*
// @include http://*.96128.com/*
// @include http://*.99pto.com/*
// @include http://*.99read.com/*
// @include http://*.9dadao.com/*
// @include http://*.afffff.com/*
// @include http://*.ai356.com/*
// @include http://*.aidai.com/*
// @include http://*.aiju.com/*
// @include http://*.aim36.com/*
// @include http://*.aimer.com.cn/*
// @include http://*.aiyingshi.com/*
// @include http://*.aizhigu.com.cn/*
// @include http://*.amazon.cn/*
// @include http://*.anni.com/*
// @include http://*.apabi.com/*
// @include http://*.augshow.com/*
// @include http://*.autosup.com/*
// @include http://*.baiyjk.com/*
// @include http://*.bbesports.com/*
// @include http://*.bearbuy.com.cn/*
// @include http://*.beautyplus.cn/*
// @include http://*.beifabook.com/*
// @include http://*.benq.com.cn/*
// @include http://*.best1.com/*
// @include http://*.biaoshang.hk/*
// @include http://*.binggo.com/*
// @include http://*.bloves.com/*
// @include http://*.bobomobi.com/*
// @include http://*.bookschina.com/*
// @include http://*.boqii.com/*
// @include http://*.buding.com/*
// @include http://*.buy007.com/*
// @include http://*.buy361.cn/*
// @include http://*.buyfine.net/*
// @include http://*.buynow.com.cn/*
// @include http://*.caistv.com/*
// @include http://*.caomeipai.com/*
// @include http://*.car339.com.cn/*
// @include http://*.car6688.com/*
// @include http://*.carrefour.com.cn/*
// @include http://*.cdream.com/*
// @include http://*.ceetop.com/*
// @include http://*.chashu.cn/*
// @include http://*.chedangjia.com/*
// @include http://*.chengdecs.com/*
// @include http://*.china-gift.com/*
// @include http://*.china-pub.com/*
// @include http://emall.chinapay.com/*
// @include http://*.chinayrs.com/*
// @include http://*.chris-tina.com/*
// @include http://*.clady.com/*
// @include http://*.clinique.com.cn/*
// @include http://*.cncard.com/*
// @include http://*.cnfse.com/*
// @include http://*.colebuy.com/*
// @include http://*.conslive.com/*
// @include http://*.coo8.com/*
// @include http://*.cosize.com/*
// @include http://*.cosme-de.com/*
// @include http://dangdang.com/
// @include http://*.cw100.com/*
// @include http://*.d1.com.cn/*
// @include http://*.daisonghua.com/*
// @include http://*.dangdang.com/*
// @include http://*.daoyao.com/*
// @include http://*.dazhe.cn/*
// @include http://*.dazhongdianqi.com.cn/*
// @include http://*.dianpu.com/*
// @include http://*.didatuan.com/*
// @include http://*.disiqu.cn/*
// @include http://*.dixintong.com/*
// @include http://*.doulaimai.com/*
// @include http://*.dsgoo.com/*
// @include http://*.dtoto.com/*
// @include http://*.duhub.com/*
// @include http://*.duoding.com/*
// @include http://*.e-giordano.com/*
// @include http://*.e-lining.com/*
// @include http://*.e-my.com.cn/*
// @include http://*.easy361.com/*
// @include http://*.ebaimi.com/*
// @include http://*.eboxbuy.com/*
// @include http://*.ebtea.com/*
// @include http://*.ecosme.cn/*
// @include http://*.efeihu.com/*
// @include http://*.ehaier.com/*
// @include http://*.ejia.com/*
// @include http://*.enjoyeye.com/*
// @include http://*.epetbar.com/*
// @include http://*.et5155.com/*
// @include http://*.f508.com/*
// @include http://*.fclub.cn/*
// @include http://*.flowerby.com/*
// @include http://*.flowercn.com/*
// @include http://*.gap.cn/*
// @include http://*.godida.com/*
// @include http://*.gome.com.cn/*
// @include http://*.goocctv.cn/*
// @include http://*.goodjd.com/*
// @include http://*.goodnourish.cn/*
// @include http://*.gou3618.com/*
// @include http://*.gouduo.com/*
// @include http://*.gouwulian.com/*
// @include http://*.gouxie.com/*
// @include http://*.goyahome.com/*
// @include http://*.guobuy.com/*
// @include http://*.guopi.com/*
// @include http://*.guuoo.com/*
// @include http://*.hany.cn/*
// @include http://*.happigo.com/*
// @include http://*.hit168.com.cn/*
// @include http://*.hitao.com/*
// @include http://*.homeold.cn/*
// @include http://*.homevv.com/*
// @include http://*.hongkouzi.com/*
// @include http://*.hopebook.net/*
// @include http://*.huachu.com.cn/*
// @include http://*.huimeifang.cn/*
// @include http://*.hw2008.cn/*
// @include http://*.icaifeng.com/*
// @include http://www.sfbest.com/*
// @include http://*.ideemall.com/*
// @include http://*.ihush.com/*
// @include http://*.iloveyou.com.cn/*
// @include http://*.ilovezuan.com/*
// @include http://*.imeelee.com/*
// @include http://*.inoble.com.cn/*
// @include http://*.inshion.com/*
// @include http://*.ishop.cn/*
// @include http://*.it88.com.cn/*
// @include http://*.itzm.com/*
// @include http://*.iyuyou.com/*
// @include http://*.jiajiajk.com/*
// @include http://*.jiaju.com/*
// @include http://*.jiatx.com/*
// @include http://*.jiayougo.com/*
// @include http://*.jinbaidu.com/*
// @include http://*.jmeishop.com/*
// @include http://*.joyran.com/*
// @include http://*.jsbcmall.com/*
// @include http://*.jtlhome.com/*
// @include http://*.jumei.com/*
// @include http://*.junph.com/*
// @include http://*.justonline.cn/*
// @include http://*.jxdyf.com/*
// @include http://*.k121.com/*
// @include http://*.kadang.com/*
// @include http://*.keede.com.cn/*
// @include http://*.kela.cn/*
// @include http://*.kuaishubao.com/*
// @include http://*.kxtkx.com/*
// @include http://*.ladypk.com/*
// @include http://*.laeibelle.com/*
// @include http://*.lafaso.com/*
// @include http://*.lamiu.com/*
// @include http://*.lancome.com.cn/*
// @include http://*.lashou.com/*
// @include http://*.ledaojia.com/*
// @include http://*.leftlady.com/*
// @include http://*.lens2005.com/*
// @include http://*.letao.com/*
// @include http://*.leyou.com/*
// @include http://*.leyou.com.cn/*
// @include http://*.lijiababy.com.cn/*
// @include http://*.lijigou.com/*
// @include http://*.likebuy.com/*
// @include http://*.likeface.com/*
// @include http://*.lingshi.com/*
// @include http://*.liqunshop.com/*
// @include http://*.liyi99.com/*
// @include http://*.locknlock.com.cn/*
// @include http://*.lovo.cn/*
// @include http://*.luckigo.com/*
// @include http://*.lusen.com/*
// @include http://*.lyceem.com/*
// @include http://*.m18.com/*
// @include http://*.maichawang.com/*
// @include http://*.maimaike.cn/*
// @include http://*.mamabb.com/*
// @include http://*.mamahao.cn/*
// @include http://*.mangocity.com/*
// @include http://*.manzuo.com/*
// @include http://*.masamaso.com/*
// @include http://*.maxfunbuy.com/*
// @include http://*.maywon.com/*
// @include http://*.mbaobao.com/*
// @include http://*.meici.com/*
// @include http://*.meilele.com/*
// @include http://*.meilieasy.com/*
// @include http://*.meituan.com/*
// @include http://*.menglu.com/*
// @include http://*.mengmai.com/*
// @include http://*.minibuy.com/*
// @include http://*.mmgw.cn/*
// @include http://*.mmuses.com/*
// @include http://*.mobi001.com/*
// @include http://*.mokamall.com/*
// @include http://*.momoyoyo.com/*
// @include http://*.montrosechina.com/*
// @include http://*.mooiee.com/*
// @include http://*.moonbasa.com/*
// @include http://*.motostore.com.cn/*
// @include http://*.mpshow.com.cn/*
// @include http://*.naccoo.com/*
// @include http://*.naguu.com/*
// @include http://*.nayao.com/*
// @include http://*.newegg.com.cn/*
// @include http://*.newgo5.com/*
// @include http://*.nmlch.com/*
// @include http://*.no5.com.cn/*
// @include http://*.nonmin88.com/*
// @include http://*.obuy.cn/*
// @include http://*.ofcard.com/*
// @include http://*.ogage.cn/*
// @include http://*.okbig.com/*
// @include http://*.okbuy.com/*
// @include http://*.okddy.com/*
// @include http://*.okgolf.cn/*
// @include http://*.olomo.com/*
// @include http://*.olympus.com.cn/*
// @include http://*.olymsports.com/*
// @include http://*.ono.com.cn/*
// @include http://*.orange3c.com/*
// @include http://(*.)?ouku.com/*
// @include http://*.ourtasty.com/*
// @include http://*.outice.com/*
// @include http://*.oyego.com/*
// @include http://*.paixie.net/*
// @include http://*.palcent.com/*
// @include http://*.pb89.com/*
// @include http://*.pcarm.com/*
// @include http://*.petyoo.com/*
// @include http://*.pgbao.com/*
// @include http://*.piaoliang100.com/*
// @include http://*.pirateship.com.cn/*
// @include http://*.popyj.com/*
// @include http://*.pupai.cn/*
// @include http://*.purcotton.com/*
// @include http://*.qianxun.com/*
// @include http://*.qingci.com/*
// @include http://*.qinqinbaby.com/*
// @include http://*.qmango.com/*
// @include http://*.qumei.com/*
// @include http://*.quwan.com/*
// @include http://*.qxian.com/*
// @include http://*.rayi.cn/*
// @include http://*.redbaby.com.cn/*
// @include http://*.robam.com/*
// @include http://*.salala.com.cn/*
// @include http://*.samsclub.cn/*
// @include http://*.sanfo.com/*
// @include http://*.sapo.com.hk/*
// @include http://*.sasa.com/*
// @include http://*.sasacity.com/*
// @include http://*.sawbuy.com/*
// @include http://*.shanghai-sports.com/*
// @include http://*.shentop.com/*
// @include http://*.shishangqiyi.com/*
// @include http://*.shjdq.com/*
// @include http://*.shnn.com/*
// @include http://*.shopin.net/*
// @include http://*.shoubiao.com.cn/*
// @include http://*.sigo.cn/*
// @include http://*.sinobuy.cn/*
// @include http://*.skcoo.com/*
// @include http://*.skomart.com/*
// @include http://*.snyun.com/*
// @include http://*.sonmai.cn/*
// @include http://*.sport2008.com.cn/*
// @include http://*.strawberrynet.com/*
// @include http://*.suning.com/*
// @include http://*.sz-esun.com/*
// @include http://*.tao3c.com/*
// @include http://item.taobao.com/*
// @include http://*.taoxie.cn/*
// @include http://*.the365.com/*
// @include http://*.thinkshop.cn/*
// @include http://*.tian10.com/*
// @include http://*.tiantian.com/*
// @include http://detail.tmall.com/*
// @include http://*.togj.com/*
// @include http://*.tooogooo.com/*
// @include http://*.toy90.com/*
// @include http://*.toys365.com/*
// @include http://*.tpy100.com/*
// @include http://*.tuniu.com/*
// @include http://*.tztart.com/*
// @include http://*.ugou.cn/*
// @include http://*.uipmall.com/*
// @include http://*.uiyi.cn/*
// @include http://*.ushan.cn/*
// @include http://*.uushouji.com/*
// @include http://*.uya100.com/*
// @include http://*.vaakav.com/*
// @include http://*.vafox.com/*
// @include http://*.vancl.com/*
// @include http://*.vcotton.com/*
// @include http://*.veedl.com/*
// @include http://*.vegoos.com/*
// @include http://*.venusveil.com/*
// @include http://*.veryok.cn/*
// @include http://*.viccol.com/*
// @include http://*.vipshop.com/*
// @include http://*.vipstore.com/*
// @include http://*.vivian.cn/*
// @include http://*.vjia.com/*
// @include http://*.vnasi.com/*
// @include http://*.voipyeah.com/*
// @include http://*.w1.cn/*
// @include http://*.waipowang.com/*
// @include http://*.wangshanghai.com/*
// @include http://*.wg365.com/*
// @include http://*.winenice.com/*
// @include http://*.wl.cn/*
// @include http://womai.com/*
// @include http://*.woye.com/*
// @include http://*.wtaotao.com/*
// @include http://*.wumeiwang.com/*
// @include http://*.x-playboy.com/*
// @include http://*.xiaokang.com/*
// @include http://*.xiaozhuren.com/*
// @include http://*.xinbaigo.com/*
// @include http://*.xindou.com/*
// @include http://*.xing800.com/*
// @include http://*.xinhuabookstore.com/*
// @include http://*.xiu.com/*
// @include http://*.xtpo.cn/*
// @include http://*.xzuan.com/*
// @include http://*.yaja.com.cn/*
// @include http://*.yaofang.cn/*
// @include http://*.yasai.cn/*
// @include http://*.yeecare.com/*
// @include http://*.yesmytea.com/*
// @include http://*.yesmywine.com/*
// @include http://*.yide.com/*
// @include http://*.yifu.com/*
// @include http://*.yihaodian.com/*
// @include http://*.yintai.com/*
// @include http://*.yinyuehe.net/*
// @include http://*.yjcs.cn/*
// @include http://*.yobrand.com/*
// @include http://*.yoger.com.cn/*
// @include http://*.yoho.cn/*
// @include http://*.yongle.com.cn/*
// @include http://*.yougou.com/*
// @include http://*.youjk.com/*
// @include http://*.yoyo18.com/*
// @include http://*.yumaoclub.com/*
// @include http://*.yyosso.com/*
// @include http://*.zbird.com/*
// @include http://*.zgcbb.com/*
// @include http://*.zm7.cn/*
// @include http://*.zopo.com/*
// @include http://*.ocj.com.cn/*
// @include http://*.bookuu.com/*
// @include http://*.woyo.com/*
// @include http://*.ibuying.com/*
// @include http://*.33go.com.cn/*
// @include http://*.xijie.com/*
// @include http://*.nop.cn/*
// @include http://*.asyp.com/*
// @include http://*.sparty.cn/*
// @include http://*.yizhedian.com/*
// @include http://*.lvhezi.com/*
// @include http://*.aishangbaobao.com/*
// @include http://*.sportica.cn/*
// @include http://*.jstsilk.cn/*
// @include http://*.camel.com.cn/*
// @include http://*.cottonpop.net/*
// @include http://*.hyj.com/*
// @include http://*.myxiequ.com/*
// @include http://*.mfplaza.com/*
// @include http://*.do93.com/*
// @include http://*.3guo.cn/*
// @include http://*.yaqifushi.com/*
// @include http://*.trura.com/*
// @include http://*.lbaobao.cn/*
// @include http://*.xiutuan.com/*
// @include http://*.usashopcn.com/*
// @include http://*.ihaveu.com/*
// @include http://*.vipku.com/*
// @include http://*.vipchina.com/*
// @include http://*.fanrry.cn/*
// @include http://*.lesunvip.com/*
// @include http://*.nala.com.cn/*
// @include http://*.miqi.cn/*
// @include http://*.meiribuy.com/*
// @include http://*.pufung.com/*
// @include http://*.xiaoye.com/*
// @include http://*.hmeili.com/*
// @include http://*.oulybuy.com/*
// @include http://*.meifenzi.com/*
// @include http://*.caomeishop.com/*
// @include http://*.meifu360.com/*
// @include http://*.bapashop.com/*
// @include http://*.bulangxiongdi.com/*
// @include http://*.gusubuy.com/*
// @include http://*.opearl.net/*
// @include http://*.ruci.cn/*
// @include http://*.rax.cn/*
// @include http://*.jiuxian.com/*
// @include http://*.maimaicha.com/*
// @include http://*.pinwine.cn/*
// @include http://*.meiweidao.com/*
// @include http://*.okliang.com/*
// @include http://*.365wine.com/*
// @include http://*.jjlg.com.cn/*
// @include http://*.bianlishe.com/*
// @include http://*.epkmall.com/*
// @include http://*.gdcct.com/*
// @include http://*.500ccc.com/*
// @include http://*.me361.com/*
// @include http://*.malatamobile.com/*
// @include http://*.trioo.com/*
// @include http://*.oohdear.com/*
// @include http://*.yaahe.cn/*
// @include http://*.easeeyes.com/*
// @include http://*.dbox.cn/*
// @include http://*.haotehui.com/*
// @include http://*.m6go.com/*
// @include http://*.bianyigo.com/*
// @include http://*.okjee.com/*
// @include http://*.mygeek.cn/*
// @include http://*.tbb.cn/*
// @include http://*.ushare360.com/*
// @include http://*.gqt168.com/*
// @include http://*.konjoy.com/*
// @include http://*.aoliz.com/*
// @include http://*.jianianle.com/*
// @include http://*.akajia.com/*
// @include http://*.miqi.com.cn/*
// @include http://*.lehuimai.com/*
// @include http://*.lifevc.com/*
// @include http://buy.yesky.com/*
// @include http://*.55tuan.com/*
// @include http://t.dianping.com/*
// @include http://*.nuomi.com/*
// @include http://carrefour.com.cn/
// @include http://51buy.com/
// @include http://*.womai.com/*
// @include http://*.lefeng.com/*
// @include http://www.1mall.com/*
// @include http://s.taobao.com/search\?*
// @include http://www.vegaga.com/*
// @include http://*.buy.qq.com/*
// @include http://list.tmall.com/search_product.htm*
// @include http://*.jd.com/*
// ==/UserScript==
(function() {
    var version = '3.0';

    var optionNode = document.getElementById('youdaoGWZS_options');
    if(!optionNode) {
        optionNode = document.createElement('span');
        optionNode.id = 'youdaoGWZS_options';
        optionNode.style.display = 'none';
        optionNode.innerHTML = GM_getValue('jsoptions', 'position=down;vendor=youdao;browser=firefox;version=' + version);

        var wr = document.createElement("span");
        wr.id = "youdao_gouwu";
        wr.style.display = 'none';

        var conf = document.createElement("span");
        conf.id = "youdaoGWZS_config";
        conf.innerHTML = encodeURIComponent("{}");
        wr.appendChild(conf);
        wr.appendChild(optionNode);

        document.body.appendChild(wr);
        
        new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                var now = mutation.target.innerHTML;
                if(now != GM_getValue('jsoptions')) {
                    GM_setValue('jsoptions', now);
                }
            });
        }).observe(optionNode, {
            childList: true
        });
    }

    var daogw_s = document.createElement('script');
    daogw_s.charset = 'UTF-8';
    daogw_s.type = 'text/javascript';
    daogw_s.id = 'youdao_gouwu_assistant';
    daogw_s.src = 'http://shared.ydstatic.com/gouwuex/ext/script/extension_' + version.replace('.', '_') + '.js?vendor=youdao&browser=firefox&version=' + version;    document.getElementsByTagName('head')[0].appendChild(daogw_s);
})();