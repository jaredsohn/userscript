// ==UserScript==
// @name           Habrahabr Zen Coding Forms
// @namespace      http://userscripts.org/users/splurov/
// @include        http://habrahabr.ru/*
// ==/UserScript==

(function(){var d={"variables":{"lang":"en","locale":"en-US","charset":"UTF-8","profile":"xhtml","indentation":"\t"},"css":{"snippets":{"@i":"@import url(|);","@m":"@media print {\n\t|\n}","@f":"@font-face {\n\tfont-family:|;\n\tsrc:url(|);\n}","!":"!important","pos":"position:|;","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;","t":"top:|;","t:a":"top:auto;","r":"right:|;","r:a":"right:auto;","b":"bottom:|;","b:a":"bottom:auto;","l":"left:|;","l:a":"left:auto;","z":"z-index:|;","z:a":"z-index:auto;","fl":"float:|;","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;","cl":"clear:|;","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;","d":"display:|;","d:n":"display:none;","d:b":"display:block;","d:ib":"display:inline;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;","v":"visibility:|;","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;","ov":"overflow:|;","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;","ovx":"overflow-x:|;","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;","ovy":"overflow-y:|;","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;","ovs":"overflow-style:|;","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;","zoo":"zoom:1;","cp":"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(|);","bxz":"box-sizing:|;","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;","bxsh":"box-shadow:|;","bxsh:n":"box-shadow:none;","bxsh:w":"-webkit-box-shadow:0 0 0 #000;","bxsh:m":"-moz-box-shadow:0 0 0 0 #000;","m":"margin:|;","m:a":"margin:auto;","m:0":"margin:0;","m:2":"margin:0 0;","m:3":"margin:0 0 0;","m:4":"margin:0 0 0 0;","mt":"margin-top:|;","mt:a":"margin-top:auto;","mr":"margin-right:|;","mr:a":"margin-right:auto;","mb":"margin-bottom:|;","mb:a":"margin-bottom:auto;","ml":"margin-left:|;","ml:a":"margin-left:auto;","p":"padding:|;","p:0":"padding:0;","p:2":"padding:0 0;","p:3":"padding:0 0 0;","p:4":"padding:0 0 0 0;","pt":"padding-top:|;","pr":"padding-right:|;","pb":"padding-bottom:|;","pl":"padding-left:|;","w":"width:|;","w:a":"width:auto;","h":"height:|;","h:a":"height:auto;","maw":"max-width:|;","maw:n":"max-width:none;","mah":"max-height:|;","mah:n":"max-height:none;","miw":"min-width:|;","mih":"min-height:|;","o":"outline:|;","o:n":"outline:none;","oo":"outline-offset:|;","ow":"outline-width:|;","os":"outline-style:|;","oc":"outline-color:#000;","oc:i":"outline-color:invert;","bd":"border:|;","bd+":"border:1px solid #000;","bd:n":"border:none;","bdbk":"border-break:|;","bdbk:c":"border-break:close;","bdcl":"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;","bdc":"border-color:#000;","bdi":"border-image:url(|);","bdi:n":"border-image:none;","bdi:w":"-webkit-border-image:url(|) 0 0 0 0 stretch stretch;","bdi:m":"-moz-border-image:url(|) 0 0 0 0 stretch stretch;","bdti":"border-top-image:url(|);","bdti:n":"border-top-image:none;","bdri":"border-right-image:url(|);","bdri:n":"border-right-image:none;","bdbi":"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;","bdli":"border-left-image:url(|);","bdli:n":"border-left-image:none;","bdci":"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;","bdtli":"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;","bdtri":"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;","bdbri":"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;","bdbli":"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;","bdf":"border-fit:|;","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;","bdl":"border-length:|;","bdl:a":"border-length:auto;","bdsp":"border-spacing:|;","bds":"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;","bdw":"border-width:|;","bdt":"border-top:|;","bdt+":"border-top:1px solid #000;","bdt:n":"border-top:none;","bdtw":"border-top-width:|;","bdts":"border-top-style:|;","bdts:n":"border-top-style:none;","bdtc":"border-top-color:#000;","bdr":"border-right:|;","bdr+":"border-right:1px solid #000;","bdr:n":"border-right:none;","bdrw":"border-right-width:|;","bdrs":"border-right-style:|;","bdrs:n":"border-right-style:none;","bdrc":"border-right-color:#000;","bdb":"border-bottom:|;","bdb+":"border-bottom:1px solid #000;","bdb:n":"border-bottom:none;","bdbw":"border-bottom-width:|;","bdbs":"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;","bdbc":"border-bottom-color:#000;","bdl":"border-left:|;","bdl+":"border-left:1px solid #000;","bdl:n":"border-left:none;","bdlw":"border-left-width:|;","bdls":"border-left-style:|;","bdls:n":"border-left-style:none;","bdlc":"border-left-color:#000;","bdrs":"border-radius:|;","bdtrrs":"border-top-right-radius:|;","bdtlrs":"border-top-left-radius:|;","bdbrrs":"border-bottom-right-radius:|;","bdblrs":"border-bottom-left-radius:|;","bg":"background:|;","bg+":"background:#FFF url(|) 0 0 no-repeat;","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='|x.png');","bgc":"background-color:#FFF;","bgi":"background-image:url(|);","bgi:n":"background-image:none;","bgr":"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bga":"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;","bgp":"background-position:0 0;","bgpx":"background-position-x:|;","bgpy":"background-position-y:|;","bgbk":"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;","bgcp":"background-clip:|;","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;","bgo":"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;","bgz":"background-size:|;","bgz:a":"background-size:auto;","bgz:ct":"background-size:contain;","bgz:cv":"background-size:cover;","c":"color:#000;","tbl":"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;","cps":"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;","ec":"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;","lis":"list-style:|;","lis:n":"list-style:none;","lisp":"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;","list":"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;","lisi":"list-style-image:|;","lisi:n":"list-style-image:none;","q":"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\00AB' '\00BB' '\201E' '\201C';","q:en":"quotes:'\201C' '\201D' '\2018' '\2019';","ct":"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);","coi":"counter-increment:|;","cor":"counter-reset:|;","va":"vertical-align:|;","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;","ta":"text-align:|;","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","tal":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;","td":"text-decoration:|;","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;","te":"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;","th":"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;","ti":"text-indent:|;","ti:-":"text-indent:-9999px;","tj":"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;","to":"text-outline:|;","to+":"text-outline:0 0 #000;","to:n":"text-outline:none;","tr":"text-replace:|;","tr:n":"text-replace:none;","tt":"text-transform:|;","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;","tw":"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;","tsh":"text-shadow:|;","tsh+":"text-shadow:0 0 0 #000;","tsh:n":"text-shadow:none;","lh":"line-height:|;","whs":"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;","whsc":"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;","wob":"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:l":"word-break:loose;","wob:bs":"word-break:break-strict;","wob:ba":"word-break:break-all;","wos":"word-spacing:|;","wow":"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","lts":"letter-spacing:|;","f":"font:|;","f+":"font:1em Arial,sans-serif;","fw":"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;","fs":"font-style:|;","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;","fv":"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;","fz":"font-size:|;","fza":"font-size-adjust:|;","fza:n":"font-size-adjust:none;","ff":"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;","fef":"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;","fem":"font-emphasize:|;","femp":"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;","fems":"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;","fsm":"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;","fst":"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;","op":"opacity:|;","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';","rz":"resize:|;","rz:n":"resize:none;","rz:b":"resize:both;","rz:h":"resize:horizontal;","rz:v":"resize:vertical;","cur":"cursor:|;","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;","pgbb":"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;","pgbi":"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;","pgba":"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;","orp":"orphans:|;","wid":"widows:|;"}},"html":{"snippets":{"cc:ie6":"<!--[if lte IE 6]>\n\t${child}|\n<![endif]-->","cc:ie":"<!--[if IE]>\n\t${child}|\n<![endif]-->","cc:noie":"<!--[if !IE]><!-->\n\t${child}|\n<!--<![endif]-->","html:4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">\n'+'<html lang="${lang}">\n'+"<head>\n"+"	<title></title>\n"+'	<meta http-equiv="Content-Type" content="text/html;charset=${charset}">\n'+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>","html:4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">\n'+'<html lang="${lang}">\n'+"<head>\n"+"	<title></title>\n"+'	<meta http-equiv="Content-Type" content="text/html;charset=${charset}">\n'+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>","html:xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n'+'<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}">\n'+"<head>\n"+"	<title></title>\n"+'	<meta http-equiv="Content-Type" content="text/html;charset=${charset}" />\n'+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>","html:xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n'+'<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}">\n'+"<head>\n"+"	<title></title>\n"+'	<meta http-equiv="Content-Type" content="text/html;charset=${charset}" />\n'+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>","html:xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">\n'+'<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}">\n'+"<head>\n"+"	<title></title>\n"+'	<meta http-equiv="Content-Type" content="text/html;charset=${charset}" />\n'+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>","html:5":"<!DOCTYPE HTML>\n"+'<html lang="${locale}">\n'+"<head>\n"+"	<title></title>\n"+'	<meta charset="${charset}">\n'+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>"},"abbreviations":{"a":'<a href=""></a>',"a:link":'<a href="http://|"></a>',"a:mail":'<a href="mailto:|"></a>',"abbr":'<abbr title=""></abbr>',"acronym":'<acronym title=""></acronym>',"base":'<base href="" />',"bdo":'<bdo dir=""></bdo>',"bdo:r":'<bdo dir="rtl"></bdo>',"bdo:l":'<bdo dir="ltr"></bdo>',"link:css":'<link rel="stylesheet" type="text/css" href="|style.css" media="all" />',"link:print":'<link rel="stylesheet" type="text/css" href="|print.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="|favicon.ico" />',"link:touch":'<link rel="apple-touch-icon" href="|favicon.png" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="|rss.xml" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="atom.xml" />',"meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="IE=7" />',"style":'<style type="text/css"></style>',"script":'<script type="text/javascript"><\/script>',"script:src":'<script type="text/javascript" src=""><\/script>',"img":'<img src="" alt="" />',"iframe":'<iframe src="" frameborder="0"></iframe>',"embed":'<embed src="" type="" />',"object":'<object data="" type=""></object>',"param":'<param name="" value="" />',"map":'<map name=""></map>',"area":'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',"link":'<link rel="stylesheet" href="" />',"form":'<form action=""></form>',"form:get":'<form action="" method="get"></form>',"form:post":'<form action="" method="post"></form>',"label":'<label for=""></label>',"input":'<input type="" />',"input:hidden":'<input type="hidden" name="" />',"input:h":'<input type="hidden" name="" />',"input:text":'<input type="text" name="" id="" />',"input:t":'<input type="text" name="" id="" />',"input:search":'<input type="search" name="" id="" />',"input:email":'<input type="email" name="" id="" />',"input:url":'<input type="url" name="" id="" />',"input:password":'<input type="password" name="" id="" />',"input:p":'<input type="password" name="" id="" />',"input:datetime":'<input type="datetime" name="" id="" />',"input:date":'<input type="date" name="" id="" />',"input:datetime-local":'<input type="datetime-local" name="" id="" />',"input:month":'<input type="month" name="" id="" />',"input:week":'<input type="week" name="" id="" />',"input:time":'<input type="time" name="" id="" />',"input:number":'<input type="number" name="" id="" />',"input:color":'<input type="color" name="" id="" />',"input:checkbox":'<input type="checkbox" name="" id="" />',"input:c":'<input type="checkbox" name="" id="" />',"input:radio":'<input type="radio" name="" id="" />',"input:r":'<input type="radio" name="" id="" />',"input:range":'<input type="range" name="" id="" />',"input:file":'<input type="file" name="" id="" />',"input:f":'<input type="file" name="" id="" />',"input:submit":'<input type="submit" value="" />',"input:s":'<input type="submit" value="" />',"input:image":'<input type="image" src="" alt="" />',"input:i":'<input type="image" src="" alt="" />',"input:reset":'<input type="reset" value="" />',"input:button":'<input type="button" value="" />',"input:b":'<input type="button" value="" />',"select":'<select name="" id=""></select>',"option":'<option value=""></option>',"textarea":'<textarea name="" id="" cols="30" rows="10"></textarea>',"menu:context":'<menu type="context"></menu>',"menu:c":'<menu type="context"></menu>',"menu:toolbar":'<menu type="toolbar"></menu>',"menu:t":'<menu type="toolbar"></menu>',"video":'<video src=""></video>',"audio":'<audio src=""></audio>',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml"></html>',"bq":"<blockquote></blockquote>","acr":"<acronym></acronym>","fig":"<figure></figure>","ifr":"<iframe></iframe>","emb":"<embed></embed>","obj":"<object></object>","src":"<source></source>","cap":"<caption></caption>","colg":"<colgroup></colgroup>","fst":"<fieldset></fieldset>","btn":"<button></button>","optg":"<optgroup></optgroup>","opt":"<option></option>","tarea":"<textarea></textarea>","leg":"<legend></legend>","sect":"<section></section>","art":"<article></article>","hdr":"<header></header>","ftr":"<footer></footer>","adr":"<address></address>","dlg":"<dialog></dialog>","str":"<strong></strong>","prog":"<progress></progress>","fset":"<fieldset></fieldset>","datag":"<datagrid></datagrid>","datal":"<datalist></datalist>","kg":"<keygen></keygen>","out":"<output></output>","det":"<details></details>","cmd":"<command></command>","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option"},"element_types":{"empty":"area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,keygen,command","block_level":"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6","inline_level":"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"}},"xsl":{"extends":"html","abbreviations":{"tm":'<xsl:template match="" mode=""></xsl:template>',"tmatch":"tm","tn":'<xsl:template name=""></xsl:template>',"tname":"tn","xsl:when":'<xsl:when test=""></xsl:when>',"wh":"xsl:when","var":'<xsl:variable name="">|</xsl:variable>',"vare":'<xsl:variable name="" select=""/>',"if":'<xsl:if test=""></xsl:if>',"call":'<xsl:call-template name=""/>',"attr":'<xsl:attribute name=""></xsl:attribute>',"wp":'<xsl:with-param name="" select=""/>',"par":'<xsl:param name="" select=""/>',"val":'<xsl:value-of select=""/>',"co":'<xsl:copy-of select=""/>',"each":'<xsl:for-each select=""></xsl:for-each>',"ap":'<xsl:apply-templates select="" mode=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise"}}};
(function(){var B=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,p=/^<\/([\w\:\-]+)[^>]*>/,w=/([\w\-:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;var v=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var q=t("address,applet,blockquote,button,center,dd,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var x=t("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var y=t("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var r={opening_tag:null,closing_tag:null,start_ix:-1,end_ix:-1};function D(G,E){var F=G[1].toLowerCase();return{name:F,full_tag:G[0],start:E,end:E+G[0].length,unary:Boolean(G[3])||(F in v),type:"tag",close_self:(F in y)};}function u(F,E){return{start:F,end:E,type:"comment"};}function t(H){var G={},E=H.split(",");for(var F=0;F<E.length;F++){G[E[F]]=true;}return G;}function C(H,I,E){E=E||0;var G=-1,F=-1;if(H&&!I){G=H.start;F=H.end;}else{if(H&&I){if((H.start<E&&H.end>E)||(I.start<=E&&I.end>E)){G=H.start;F=I.end;}else{G=H.end;F=I.start;}}}return[G,F];}function A(G,H,E){E=E||0;r.opening_tag=G;r.closing_tag=H;var F=C(G,H,E);r.start_ix=F[0];r.end_ix=F[1];return r.start_ix!=-1?[r.start_ix,r.end_ix]:null;}function s(K,O,I){I=I||C;var R=[],N=[],U=null,Q=null,L=null,T=K.length,H,G,P;R.last=N.last=function(){return this[this.length-1];};function M(V,W){if(arguments.length==1){W=G;}return K.substr(W,V.length)==V;}function J(V){while(V--){if(K.charAt(V)=="<"&&M("<!--",V)){break;}}return V;}G=O;while(G--&&G>=0){var E=K.charAt(G);if(E=="<"){var S=K.substring(G,T);if((H=S.match(p))){P=D(H,G);if(P.start<O&&P.end>O){Q=P;}else{N.push(P);}}else{if((H=S.match(B))){P=D(H,G);if(P.unary){if(P.start<O&&P.end>O){return A(P,null,O);}}else{if(N.last()&&N.last().name==P.name){N.pop();}else{U=P;break;}}}else{if(S.indexOf("<!--")==0){var F=S.search("-->")+G+3;if(G<O&&F>=O){return A(u(G,F));}}}}}else{if(E=="-"&&M("-->")){G=J(G);}}}if(!U){return I(null);}if(!Q){for(G=O;G<T;G++){var E=K.charAt(G);if(E=="<"){var S=K.substring(G,T);if((H=S.match(B))){P=D(H,G);if(!P.unary){R.push(P);}}else{if((H=S.match(p))){var P=D(H,G);if(R.last()&&R.last().name==P.name){R.pop();}else{Q=P;break;}}else{if(M("<!--")){G+=S.search("-->")+3;}}}}else{if(E=="-"&&M("-->")){if(!R.last()||R.last().type!="comment"){var F=G+3;return I(u(J(G),F));}}}}}return I(U,Q,O);}var z=this.HTMLPairMatcher=function(F,E){return s(F,E,A);};z.start_tag=B;z.end_tag=p;z.find=function(F,E){return s(F,E);};z.getTags=function(F,E){return s(F,E,function(G,H){return[G,H];});};z.last_match=r;})();var e=(function(){var A=/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/;var H="zen-tag",C="zen-expando",M="zen-reference",F="{%::zen-content::%}",G="\n";var L={tag_case:"lower",attr_case:"lower",attr_quotes:"double",tag_nl:"decide",place_cursor:true,indent:true,self_closing_tag:"xhtml"};var z={};function v(Q){var P=Q.charCodeAt(0),O="#.>+*:$-_!@";return(P>64&&P<91)||(P>96&&P<123)||(P>47&&P<58)||O.indexOf(Q)!=-1;}function y(){return e.getNewline();}function u(R,Q){var O=R.replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").split("\n");if(Q){for(var P=O.length;P>=0;P--){if(!J(O[P])){O.splice(P,1);}}}return O;}function J(O){return(O||"").replace(/^\s+|\s+$/g,"");}function I(P){var O={};for(var Q in L){O[Q]=(Q in P)?P[Q]:L[Q];}return O;}function q(P,O){z[P.toLowerCase()]=I(O||{});}function K(R){var Q={},O=R.split(",");for(var P=0;P<O.length;P++){Q[O[P]]=true;}return Q;}function N(U,P,Q){var T="",W="";if(typeof(P)=="number"){for(var S=0;S<P;S++){T+=d.variables.indentation;}}else{T=P;}var V=u(U),O=y();W+=V[0];for(var R=1;R<V.length;R++){W+=O+T+V[R];}return W;}function r(O,P){return E(P,O)?true:false;}function D(O){return A.test(O);}function p(P,O){if(P&&P.element_types){return P.element_types[O]||{};}else{return{};}}function t(P,O){O=O||d.variables;return P.replace(/\$\{([\w\-]+)\}/g,function(R,Q){return(Q in O)?O[Q]:R;});}function w(Q,U,T){Q=Q.toLowerCase();T=T||"html";var P=x(T,Q);if(P&&P.type==M){P=x(T,P.value);}this.name=(P)?P.value.name:Q.replace("+","");this.count=U||1;this.children=[];this.attributes=[];this._attr_hash={};this._abbr=P;this._res=d[T];this._content="";this.repeat_by_lines=false;if(this._abbr&&this._abbr.value.attributes){var S=this._abbr.value.attributes;if(S){for(var R=0;R<S.length;R++){var O=S[R];this.addAttribute(O.name,O.value);}}}}w.prototype={addChild:function(O){this.children.push(O);},addAttribute:function(P,Q){var O;if(P in this._attr_hash){O=this._attr_hash[P];if(P=="class"){O.value+=((O.value)?" ":"")+Q;}else{O.value=Q;}}else{O={name:P,value:Q};this._attr_hash[P]=O;this.attributes.push(O);}},isEmpty:function(){return(this._abbr&&this._abbr.value.is_empty)||(this.name in p(this._res,"empty"));},isInline:function(){return(this.name in p(this._res,"inline_level"));
},isBlock:function(){return(this.name in p(this._res,"block_level"));},hasTagsInContent:function(){return this.getContent()&&A.test(this.getContent());},hasBlockChildren:function(){if(this.hasTagsInContent()&&this.isBlock()){return true;}for(var O=0;O<this.children.length;O++){if(this.children[O].isBlock()){return true;}}return false;},setContent:function(O){this._content=O;},getContent:function(){return this._content;},findDeepestChild:function(){if(!this.children.length){return null;}var O=this;while(true){O=O.children[O.children.length-1];if(!O.children.length){break;}}return O;},toString:function(T){var U=[],Q=(T in z)?z[T]:z["plain"],X="",Z="",P="",ae="",R=Q.place_cursor?"|":"",W="",aj=Q.attr_quotes=="single"?"'":'"',Y,ak=(this.isEmpty()&&!this.children.length);if(Q.self_closing_tag=="xhtml"){W=" /";}else{if(Q.self_closing_tag===true){W="/";}}function V(al){return(Q.tag_nl===true||(Q.tag_nl=="decide"&&al.isBlock()));}for(var ac=0;ac<this.attributes.length;ac++){var ai=this.attributes[ac];Y=(Q.attr_case=="upper")?ai.name.toUpperCase():ai.name.toLowerCase();X+=" "+Y+"="+aj+(ai.value||R)+aj;}var ad=this.findDeepestChild();if(!ak){if(ad&&this.repeat_by_lines){ad.setContent(F);}for(var aa=0;aa<this.children.length;aa++){Z+=this.children[aa].toString(T);if((aa!=this.children.length-1)&&(V(this.children[aa])||V(this.children[aa+1]))){Z+=y();}}}if(this.name){var ag=(Q.tag_case=="upper")?this.name.toUpperCase():this.name.toLowerCase();if(ak){P="<"+ag+X+W+">";}else{P="<"+ag+X+">";ae="</"+ag+">";}}if(Q.tag_nl!==false){if(this.name&&(Q.tag_nl===true||this.hasBlockChildren())){if(ae){P+=y()+d.variables.indentation;ae=y()+ae;}else{}}if(this.name){if(Z){Z=N(Z,Q.indent?1:0);}else{if(!ak){P+=R;}}}}var ah="";if(this.repeat_by_lines){var O=u(J(this.getContent()),true);for(var aa=0;aa<O.length;aa++){ah=ad?"":F;if(Z&&!ad){ah+=y();}var S=P.replace(/\$/g,aa+1)+ah+Z+ae;U.push(S.replace(F,J(O[aa])));}}if(!U.length){if(this.getContent()){var af=(Q.tag_nl===true||(this.hasTagsInContent()&&this.isBlock()))?1:0;Z=N(this.getContent(),af)+Z;}for(var ac=0;ac<this.count;ac++){U.push(P.replace(/\$/g,ac+1)+Z+ae);}}var ab="";if(V(this)){ab=y();}return U.join(ab);}};function B(O,Q,P){this.name=O;this.count=Q||1;this.children=[];this._content="";this.repeat_by_lines=false;this.attributes={"id":"|","class":"|"};this.value=E(P,O);}B.prototype={addChild:function(O){this.children.push(O);},addAttribute:function(O,P){this.attributes[O]=P;},isBlock:function(){return true;},setContent:function(O){this._content=O;},getContent:function(){return this._content;},findDeepestChild:function(){if(!this.children.length){return null;}var O=this;while(true){O=O.children[O.children.length-1];if(!O.children.length){break;}}return O;},toString:function(Y){var Z="",R=(Y in z)?z[Y]:z["plain"],ac=[],W=this.value,P="",S="",aa="",X="${child}";if(W){if(R.tag_nl!==false){var O=y();W=W.replace(/\n/g,O);var ab=W.split(O),Q;for(var U=0;U<ab.length;U++){if(ab[U].indexOf(X)!=-1){aa=(Q=ab[U].match(/(^\s+)/))?Q[1]:"";break;}}}var T=W.split(X);P=T[0]||"";S=T[1]||"";}for(var V=0;V<this.children.length;V++){Z+=this.children[V].toString(Y);if(V!=this.children.length-1&&(R.tag_nl===true||(R.tag_nl=="decide"&&this.children[V].isBlock()))){Z+=y();}}if(aa){Z=N(Z,aa);}P=t(P,this.attributes);S=t(S,this.attributes);if(this.getContent()){Z=N(this.getContent(),1)+Z;}for(var V=0;V<this.count;V++){ac.push(P+Z+S);}return ac.join((R.tag_nl!==false)?y():"");}};function x(P,O){return s(P,O,"abbreviations");}function E(P,O){return s(P,O,"snippets");}function s(Q,O,S){var R=d[Q];if(R){if(S in R&&O in R[S]){return R[S][O];}else{if("extends" in R){for(var P=0;P<R["extends"].length;P++){var Q=R["extends"][P];if(d[Q]&&d[Q][S]&&d[Q][S][O]){return d[Q][S][O];}}}}}return null;}q("xhtml");q("html",{self_closing_tag:false});q("xml",{self_closing_tag:true,tag_nl:true});q("plain",{tag_nl:false,indent:false,place_cursor:false});return{expandAbbreviation:function(P,R,Q){var O=this.parseIntoTree(P,R||"html");return t(O?O.toString(Q):"");},extractAbbreviation:function(R){var P=R.length,O=-1;while(true){P--;if(P<0){O=0;break;}var Q=R.charAt(P);if(!v(Q)||(Q==">"&&D(R.substring(0,P+1)))){O=P+1;break;}}if(O!=-1){return R.substring(O);}else{return"";}},parseIntoTree:function(P,T){T=T||"html";var O=new w("",1,T),S=O,U=null,V=null,Q=d[T],R=/([\+>])?([a-z@\!][a-z0-9:\-]*)(#[\w\-\$]+)?((?:\.[\w\-\$]+)*)(\*(\d*))?(\+$)?/ig;if(!P){return null;}P=P.replace(/([a-z][\w\:\-]*)\+$/i,function(X){var W=x(T,X);return W?W.value:X;});P=P.replace(R,function(ac,Z,Y,W,aa,ae,af,X){var ad=(ae&&!af);af=af?parseInt(af):1;if(X){Y+="+";}var ab=r(Y,T)?new B(Y,af,T):new w(Y,af,T);if(W){ab.addAttribute("id",W.substr(1));}if(aa){ab.addAttribute("class",aa.substr(1).replace(/\./g," "));}if(Z==">"&&U){S=U;}S.addChild(ab);U=ab;if(ad){V=ab;}return"";});O.last=U;O.multiply_elem=V;return(!P)?O:null;},padString:N,setupProfile:q,getNewline:function(){return G;},setNewline:function(O){G=O;},getPairRange:function(S,Q){var R={},P=[],O=null;function V(X,W){return Q>X&&Q<W;
}var T={start:function(Z,Y,W,aa,X){if(W&&V(aa,X)){O={start:aa,end:X};this.stop=true;}else{if(!R.hasOwnProperty(Z)){R[Z]=[];}R[Z].push(aa);}},end:function(X,Y,W){if(R.hasOwnProperty(X)){var Z=R[X].pop();if(V(Z,W)){P.push({start:Z,end:W});}}},comment:function(X,Y,W){if(V(Y,W)){O={start:Y,end:W};this.stop=true;}}};try{HTMLParser(S,T);}catch(U){}if(!O&&P.length){O=P.sort(function(X,W){return(X.end-X.start)-(W.end-W.start);})[0];}return O;},wrapWithAbbreviation:function(P,T,S,R){var O=this.parseIntoTree(P,S||"html");if(O){var Q=O.multiply_elem||O.last;Q.setContent(T);Q.repeat_by_lines=!!O.multiply_elem;return O.toString(R);}else{return null;}},splitByLines:u,isInsideTag:function(R,Q){var P=/^<\/?\w[\w\:\-]*.*?>/;var S=Q;while(S>-1){if(R.charAt(S)=="<"){break;}S--;}if(S!=-1){var O=P.exec(R.substring(S));if(O&&Q>S&&Q<S+O[0].length){return true;}}return false;},settings_parser:(function(){function P(V,U,W){return{type:V,key:U,value:W};}var O=/^<(\w+\:?[\w\-]*)((?:\s+[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,T=/([\w\-]+)\s*=\s*(['"])(.*?)\2/g;function Q(U,V){return P(C,U,V);}function S(Y,Z,X,W){var V={name:Z,is_empty:Boolean(W)};if(X){var U;V.attributes=[];while(U=T.exec(X)){V.attributes.push({name:U[1],value:U[3]});}}return P(H,Y,V);}function R(X){for(var V in X){var W=X[V],U;V=J(V);if(V.substr(-1)=="+"){X[V]=Q(V,W);}else{if(U=O.exec(W)){X[V]=S(V,U[1],U[2],U[4]=="/");}else{X[V]=P(M,V,W);}}}}return{parse:function(W){for(var X in W){if(X=="abbreviations"){R(W[X]);}else{if(X=="extends"){var U=W[X].split(",");for(var V=0;V<U.length;V++){U[V]=J(U[V]);}W[X]=U;}else{if(typeof(W[X])=="object"){arguments.callee(W[X]);}}}}},extend:function(U,W){for(var V in W){if(typeof(W[V])=="object"&&U.hasOwnProperty(V)){arguments.callee(U[V],W[V]);}else{U[V]=W[V];}}},createMaps:function(W){for(var V in W){if(V=="element_types"){for(var U in W[V]){W[V][U]=K(W[V][U]);}}else{if(typeof(W[V])=="object"){arguments.callee(W[V]);}}}},TYPE_ABBREVIATION:H,TYPE_EXPANDO:C,TYPE_REFERENCE:M};})()};})();if("zen_settings" in this||d){e.settings_parser.createMaps(d);if("my_zen_settings" in this){e.settings_parser.createMaps(my_zen_settings);e.settings_parser.extend(d,my_zen_settings);}e.settings_parser.parse(d);}var b=(function(){var u=null,s="|";var t=document.createElement("textarea");t.value="\n";e.setNewline(t.value);t=null;function r(){return u.value||"";}function v(){if("selectionStart" in u){var A=u.selectionEnd-u.selectionStart;return{start:u.selectionStart,end:u.selectionEnd};}else{if(document.selection){u.focus();var y=document.selection.createRange();if(y===null){return{start:0,end:r().length};}var z=u.createTextRange();var B=z.duplicate();z.moveToBookmark(y.getBookmark());B.setEndPoint("EndToStart",z);return{start:B.text.length,end:B.text.length+y.text.length};}else{return null;}}}function q(B,y){if(typeof(y)=="undefined"){y=B;}if("setSelectionRange" in u){u.setSelectionRange(B,y);}else{if("createTextRange" in u){var z=u.createTextRange();z.collapse(true);var A=e.splitByLines(r().substring(0,B)).length-1;y-=A+e.splitByLines(r().substring(B,y)).length-1;B-=A;z.moveStart("character",B);z.moveEnd("character",y-B);z.select();}}}function w(D,F){var y=D.length,E=0,z=y-1;for(var B=F-1;B>0;B--){var C=D.charAt(B);if(C=="\n"||C=="\r"){E=B+1;break;}}for(var A=F;A<y;A++){var C=D.charAt(A);if(C=="\n"||C=="\r"){z=A;break;}}return{start:E,end:z};}function x(){var y=v();return y?y.start:null;}function p(y){return(y.match(/^(\s+)/)||[""])[0];}return{setTarget:function(y){u=y;},getSelectionRange:v,createSelection:q,getCurrentLineRange:function(){var y=x(),z=r();if(y===null){return null;}return w(z,y);},getCaretPos:x,getCurrentLine:function(){var y=this.getCurrentLineRange();return y.start<y.end?this.getContent().substring(y.start,y.end):"";},replaceContent:function(F,y,B){var D=r(),G=x(),A=typeof(y)!=="undefined",E=typeof(B)!=="undefined";F=e.padString(F,p(this.getCurrentLine()));var z=F.indexOf(s);if(z!=-1){G=(y||0)+z;F=F.split(s).join("");}else{G+=F.length;}try{if(A&&E){D=D.substring(0,y)+F+D.substring(B);}else{if(A){D=D.substring(0,y)+F+D.substring(y);}}u.value=D;q(G,G);}catch(C){}},getContent:r};})();function h(r){var p=r.getSelectionRange();if(p.start!=p.end){return r.getContent().substring(p.start,p.end);}var q=r.getCurrentLineRange();return e.extractAbbreviation(r.getContent().substring(q.start,p.start));}function c(s,r,u){u=u||"xhtml";var p=s.getSelectionRange().end,q,t="";if((q=h(s))){t=e.expandAbbreviation(q,r,u);if(t){s.replaceContent(t,p-q.length,p);return true;}}return false;}function j(q,p,r){if(!c(q,p,r)){q.replaceContent("\t",q.getCaretPos());}}function n(t,w){w=(w||"out").toLowerCase();var r=t.getSelectionRange(),z=r.end,q=r.start,y=r.end,v=t.getContent(),r=null,A,s=HTMLPairMatcher.last_match["opening_tag"],x=HTMLPairMatcher.last_match["closing_tag"];if(w=="in"&&s&&q!=y){if(!x){return false;}else{if(s.start==q){if(v[s.end]=="<"){A=HTMLPairMatcher.find(v,s.end+1);if(A[0]==s.end&&A[1]==x.start){r=HTMLPairMatcher(v,s.end+1);}else{r=[s.end,x.start];
}}else{r=[s.end,x.start];}}else{var p=v.substring(0,x.start).indexOf("<",s.end);var u=p!=-1?p+1:s.end;r=HTMLPairMatcher(v,u);}}}else{r=HTMLPairMatcher(v,z);}if(r!==null&&r[0]!=-1){t.createSelection(r[0],r[1]);return true;}else{return false;}}function o(t,z,w,s){s=s||"xhtml";var r=t.getSelectionRange(),v=r.start,p=r.end,u=t.getContent();if(!z){return null;}if(v==p){r=HTMLPairMatcher(u,v);if(!r||r[0]==-1){return null;}v=r[0];p=r[1];var q=/\s|\n|\r/;function y(B){return q.test(B);}while(v<p){if(!y(u.charAt(v))){break;}v++;}while(p>v){p--;if(!y(u.charAt(p))){p++;break;}}}var x=u.substring(v,p),A=e.wrapWithAbbreviation(z,m(t,x),w,s);if(A){t.createSelection(p);t.replaceContent(A,v,p);}}function m(r,t){var s=g(r);var p=e.splitByLines(t);for(var q=0;q<p.length;q++){if(p[q].search(s)==0){p[q]=p[q].substr(s.length);}}return p.join(e.getNewline());}function g(p){return(p.getCurrentLine().match(/^(\s+)/)||[""])[0];}function l(w,s,u){s=s||1;u=u||0;var y=w.getCaretPos()+u,x=w.getContent(),r=x.length,q=-1,t=/^\s+$/;function p(C){return x.charAt(C);}function B(C){var E=C;while(E>=0){var D=p(E);if(D=="\n"||D=="\r"){break;}E--;}return x.substring(E,C);}while(y<r&&y>0){y+=s;var v=p(y),A=p(y+1),z=p(y-1);switch(v){case'"':case"'":if(A==v&&z=="="){q=y+1;}break;case">":if(A=="<"){q=y+1;}break;case"\n":case"\r":if(t.test(B(y-1))){q=y;}break;}if(q!=-1){break;}}return q;}function k(q){var p=q.getCaretPos(),r=l(q,-1);if(r==p){r=l(q,-1,-2);}if(r!=-1){q.createSelection(r);}}function i(p){var q=l(p,1);if(q!=-1){p.createSelection(q);}}function f(r,u){u=u||"html";var s=g(r),p=r.getCaretPos();function q(){r.replaceContent("\n",p);}switch(u){case"html":var t=HTMLPairMatcher.getTags(r.getContent(),r.getCaretPos());if(t[0]&&t[1]&&t[0].type=="tag"&&t[0].end==p&&t[1].start==p){r.replaceContent("\n\t|\n",p);}else{q();}break;default:q();}}function a(q){var p=q.getCurrentLineRange();q.createSelection(p.start,p.end);}shortcut={"all_shortcuts":{},"add":function(w,v,r){var x=!!window.opera,q=/mac\s+os/i.test(navigator.userAgent);var t={"type":x?"keypress":"keydown","propagate":false,"disable_in_input":false,"target":document,"keycode":false};if(!r){r=t;}else{for(var u in t){if(typeof r[u]=="undefined"){r[u]=t[u];}}}var y=r.target;if(typeof r.target=="string"){y=document.getElementById(r.target);}var p=this;w=w.toLowerCase();var s=function(F){F=F||window.event;var z;if(r["disable_in_input"]){var C;if(F.target){C=F.target;}else{if(F.srcElement){C=F.srcElement;}}if(C.nodeType==3){C=C.parentNode;}if(C.tagName=="INPUT"||C.tagName=="TEXTAREA"){return;}}if(F.keyCode){z=F.keyCode;}else{if(F.which){z=F.which;}}var E=String.fromCharCode(z).toLowerCase();if(z==188){E=",";}if(z==190){E=".";}var J=w.split("+");var I=0;var G={"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"};var D={"esc":27,"escape":27,"tab":9,"space":32,"return":13,"enter":13,"backspace":8,"scrolllock":145,"scroll_lock":145,"scroll":145,"capslock":20,"caps_lock":20,"caps":20,"numlock":144,"num_lock":144,"num":144,"pause":19,"break":19,"insert":45,"home":36,"delete":46,"end":35,"pageup":33,"page_up":33,"pu":33,"pagedown":34,"page_down":34,"pd":34,"plus":187,"minus":189,"left":37,"up":38,"right":39,"down":40,"f1":112,"f2":113,"f3":114,"f4":115,"f5":116,"f6":117,"f7":118,"f8":119,"f9":120,"f10":121,"f11":122,"f12":123};var H={shift:{wanted:false,pressed:false},ctrl:{wanted:false,pressed:false},alt:{wanted:false,pressed:false},meta:{wanted:false,pressed:false}};if(F.ctrlKey){H.ctrl.pressed=true;}if(F.shiftKey){H.shift.pressed=true;}if(F.altKey){H.alt.pressed=true;}if(F.metaKey){H.meta.pressed=true;}var A;for(var B=0;A=J[B],B<J.length;B++){if(q&&x){if(A=="ctrl"||A=="control"){A="meta";}else{if(A=="meta"){A="ctrl";}}}else{if(!q&&A=="meta"){A="ctrl";}}if(A=="ctrl"||A=="control"){I++;H.ctrl.wanted=true;}else{if(A=="shift"){I++;H.shift.wanted=true;}else{if(A=="alt"){I++;H.alt.wanted=true;}else{if(A=="meta"){I++;H.meta.wanted=true;}else{if(A.length>1){if(D[A]==z){I++;}}else{if(r["keycode"]){if(r["keycode"]==z){I++;}}else{if(E==A){I++;}else{if(G[E]&&F.shiftKey){E=G[E];if(E==A){I++;}}}}}}}}}}if(I==J.length&&H.ctrl.pressed==H.ctrl.wanted&&H.shift.pressed==H.shift.wanted&&H.alt.pressed==H.alt.wanted&&H.meta.pressed==H.meta.wanted){var K=v(F);if(K!==true&&!r["propagate"]){F.cancelBubble=true;F.returnValue=false;if(F.stopPropagation){F.stopPropagation();F.preventDefault();}return false;}}};this.all_shortcuts[w]={"callback":s,"target":y,"event":r["type"]};if(y.addEventListener){y.addEventListener(r["type"],s,false);}else{if(y.attachEvent){y.attachEvent("on"+r["type"],s);}else{y["on"+r["type"]]=s;}}},"remove":function(p){p=p.toLowerCase();var s=this.all_shortcuts[p];delete (this.all_shortcuts[p]);if(!s){return;}var q=s["event"];var r=s["target"];var t=s["callback"];if(r.detachEvent){r.detachEvent("on"+q,t);}else{if(r.removeEventListener){r.removeEventListener(q,t,false);}else{r["on"+q]=false;}}}};zen_textarea=(function(){var w={profile:"xhtml",syntax:"html",use_tab:false,pretty_break:false},C={"ctrl":"⌃","control":"⌃","meta":"⌘","shift":"⇧","alt":"⌥","enter":"⏎","tab":"⇥","left":"←","right":"→"},r={"left":"←","right":"→"},z={},q=/mac\s+os/i.test(navigator.userAgent),A=/\bzc\-(\w+)\-(\w+)/g;
var D={};function s(F){F=F||{};var E={};for(var G in w){if(w.hasOwnProperty(G)){E[G]=(G in F)?F[G]:w[G];}}return E;}D=s();function y(E){return E.charAt().toUpperCase()+E.substring(1);}function u(E){return y(E.replace(/_(\w)/g,function(F,G){return" "+G.toUpperCase();}));}function v(J,H){var M=[];if(typeof(H)=="undefined"){H="+";}for(var E in z){if(z.hasOwnProperty(E)){var L=E.split("+"),F=[],I=E.toLowerCase();if(I=="tab"||I=="enter"){continue;}for(var G=0;G<L.length;G++){var K=L[G].toLowerCase();F.push(K in J?J[K]:y(K));}M.push({"keystroke":F.join(H),"action_name":u(z[E])});}}return M;}function p(H){var J=H.className||"",F,E=s(D);while((F=A.exec(J))){var G=F[1].toLowerCase(),I=F[2].toLowerCase();if(I=="true"||I=="yes"||I=="1"){I=true;}else{if(I=="false"||I=="no"||I=="0"){I=false;}}E[G]=I;}return E;}function B(E){return E.replace(/(^\s+|\s+$)/g,"").replace(/\s+/g,"_").toLowerCase();}function x(I,E){var K=E.target||E.srcElement,L=E.keyCode||E.which;if(K&&K.nodeType==1&&K.nodeName=="TEXTAREA"){b.setTarget(K);var H=p(K),F=H.syntax,J=H.profile;switch(I){case"expand_abbreviation":if(L==9){if(H.use_tab){j(b,F,J);}else{return true;}}else{c(b,F,J);}break;case"match_pair_inward":case"balance_tag_inward":n(b,"in");break;case"match_pair_outward":case"balance_tag_outward":n(b,"out");break;case"wrap_with_abbreviation":var G=prompt("Enter abbreviation","div");if(G){o(b,G,F,J);}break;case"next_edit_point":i(b);break;case"previous_edit_point":case"prev_edit_point":k(b);break;case"pretty_break":case"format_line_break":if(L==13){if(H.pretty_break){f(b);}else{return true;}}else{f(b);}break;case"select_line":a(b);}}else{return true;}}function t(F,E){E=B(E);z[F.toLowerCase()]=E;shortcut.add(F,function(G){return x(E,G);});}t("Meta+E","Expand Abbreviation");t("Tab","Expand Abbreviation");t("Meta+D","Balance Tag Outward");t("Shift+Meta+D","Balance Tag inward");t("Shift+Meta+A","Wrap with Abbreviation");t("Ctrl+Alt+RIGHT","Next Edit Point");t("Ctrl+Alt+LEFT","Previous Edit Point");t("Meta+L","Select Line");t("Enter","Format Line Break");return{shortcut:t,unbindShortcut:function(E){E=E.toLowerCase();if(E in z){delete z[E];}shortcut.remove(E);},setup:function(E){D=s(E);},getOption:function(E){return D[E];},getShortcuts:function(){return v(q?C:r,q?"":"+");},showInfo:function(){var G="All textareas on this page are powered by Zen Coding project: "+"a set of tools for fast HTML coding.\n\n"+"Available shortcuts:\n";var F=this.getShortcuts(),H=[];for(var E=0;E<F.length;E++){H.push(F[E].keystroke+" — "+F[E].action_name);}G+=H.join("\n")+"\n\n";G+="More info on http://code.google.com/p/zen-coding/";alert(G);}};})();})();

zen_textarea.setup({pretty_break: true});

for (
	var textareas = document.getElementsByTagName('textarea'),
			textareasLength = textareas.length,
			i = 0;
	i < textareasLength;
	i++
) {
	var img = document.createElement('img');
	img.src = 'http://zen-coding.ru/textarea/zc-powered.png';
	img.alt = 'Powered by Zen Coding';
	img.width = '94';
	img.height = '16';
	img.addEventListener('click', function(){
		zen_textarea.showInfo();
	}, false);
	img.style.cursor = 'pointer';
	img.style.display = 'block';
	textareas[i].parentNode.insertBefore(img, textareas[i].nextSibling);
}