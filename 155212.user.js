// ==UserScript==
// @name           eOrgMarker
// @namespace      eOrgMarker
// @author         GRaVe
// @version        1.0.8
// @description    GRaVe eRepublik Org Marker
// @include        http://www.erepublik.com/*/economy/exchange-market/*
// @require        http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js
// @grant none
// ==/UserScript==

var jQ = jQuery.noConflict(true);

var orgs = [10647, 11780, 83651, 133572, 152921, 201852, 203502, 212021, 358281, 362141, 365642, 451081, 491282, 500202, 512112, 516711, 517442, 517542, 517662, 517941, 519631, 525421, 528342, 575811, 601111, 601232, 612701, 633181, 637351, 652071, 843471, 910122, 945942, 948032, 952502, 953652, 953822, 953952, 964502, 983791, 990151, 998052, 1002322, 1004141, 1004181, 1004211, 1004291, 1049382, 1074062, 1082392, 1084761, 1141191, 1155732, 1179362, 1184872, 1198145, 1198415, 1199304, 1200531, 1200538, 1200771, 1203707, 1206160, 1206212, 1207882, 1208385, 1208560, 1208929, 1209157, 1209221, 1209419, 1209421, 1209471, 1210873, 1211241, 1211436, 1214166, 1220080, 1221084, 1221915, 1222727, 1227051, 1229968, 1230354, 1234424, 1236672, 1239177, 1242815, 1242819, 1243308, 1244160, 1244365, 1244376, 1244419, 1244485, 1245497, 1250277, 1253781, 1256115, 1256750, 1258979, 1261101, 1261309, 1263327, 1265092, 1266908, 1267102, 1269483, 1270576, 1271629, 1271772, 1272271, 1274848, 1274859, 1274866, 1275437, 1275737, 1275765, 1276791, 1276798, 1276810, 1276816, 1277054, 1279272, 1280692, 1284938, 1284939, 1284941, 1286257, 1286867, 1287547, 1292387, 1292415, 1294239, 1294269, 1298037, 1301258, 1307043, 1309194, 1309947, 1312001, 1312111, 1312119, 1312126, 1316333, 1319565, 1320405, 1321752, 1330693, 1330697, 1330719, 1331764, 1334701, 1339117, 1340246, 1340252, 1342108, 1344489, 1349036, 1350454, 1354125, 1354405, 1361927, 1361974, 1365846, 1367133, 1367335, 1368261, 1368268, 1369241, 1372746, 1381633, 1384821, 1387958, 1396030, 1401218, 1403328, 1408299, 1408809, 1410040, 1412692, 1419988, 1421102, 1424951, 1425893, 1427267, 1428075, 1429248, 1429334, 1429453, 1430330, 1431530, 1436329, 1440649, 1442329, 1442816, 1448344, 1450549, 1451473, 1456209, 1460206, 1462459, 1464175, 1464730, 1468173, 1471372, 1473305, 1473769, 1475195, 1476904, 1479971, 1480501, 1481347, 1482053, 1484225, 1489101, 1490799, 1490986, 1491413, 1491465, 1491477, 1498962, 1505965, 1507740, 1507747, 1509473, 1513686, 1515844, 1518505, 1518890, 1518908, 1518911, 1518913, 1518921, 1518946, 1518956, 1519132, 1524956, 1534361, 1536448, 1537151, 1537312, 1539049, 1540786, 1541705, 1546133, 1546209, 1546407, 1548206, 1548550, 1550970, 1553035, 1558793, 1561486, 1562423, 1565330, 1567075, 1569972, 1573988, 1579990, 1581367, 1582464, 1583386, 1583473, 1586967, 1587104, 1589263, 1591797, 1592063, 1598153, 1598895, 1599363, 1600108, 1601052, 1601417, 1608561, 1623273, 1623277, 1623284, 1624128, 1624514, 1624526, 1624553, 1625515, 1626857, 1628002, 1632477, 1632939, 1635165, 1635513, 1637650, 1637814, 1638170, 1640322, 1643430, 1643447, 1645316, 1649531, 1650750, 1651933, 1652504, 1661873, 1663198, 1668440, 1670504, 1672002, 1672624, 1673087, 1678220, 1683013, 1694256, 1696392, 1699292, 1699817, 1702931, 1704628, 1709788, 1713434, 1719685, 1719943, 1723672, 1725989, 1731505, 1738268, 1741499, 1768185, 1768787, 1769108, 1769882, 1770744, 1786756, 1787077, 1789228, 1789293, 1789637, 1790283, 1790308, 1791718, 1792062, 1792364, 1794028, 1794323, 1795192, 1799098, 1810780, 1811657, 1811685, 1811694, 1811696, 1811716, 1811718, 1812065, 1813111, 1815629, 1815651, 1821222, 1821392, 1823043, 1828233, 1828625, 1829052, 1829058, 1829063, 1829389, 1830307, 1832320, 1834741, 1838385, 1844897, 1845276, 1851229, 1855801, 1856037, 1858591, 1860155, 1862763, 1864364, 1867072, 1875968, 1878095, 1879890, 1881524, 1881988, 1882461, 1883621, 1884429, 1885324, 1886907, 1888611, 1895019, 1895794, 1900265, 1908995, 1909009, 1913746, 1916539, 1921445, 1922523, 1922889, 1922948, 1924698, 1933695, 1935131, 1935139, 1935151, 1935555, 1944281, 1946019, 1946531, 1956653, 1959995, 1960118, 1962667, 1968768, 1970889, 1971614, 1972709, 1972792, 1973011, 1973027, 1973033, 1977826, 1982807, 1982819, 1982836, 1982841, 1986446, 1989977, 1992043, 1997511, 2003230, 2010311, 2010556, 2010593, 2010604, 2013121, 2014318, 2015110, 2015279, 2016142, 2025195, 2025392, 2027394, 2027999, 2032583, 2033108, 2035312, 2035692, 2036919, 2041054, 2054126, 2064608, 2064618, 2064624, 2064668, 2064680, 2064688, 2066493, 2071078, 2084770, 2084929, 2091933, 2100829, 2104750, 2116112, 2124395, 2124405, 2124428, 2124436, 2124445, 2130835, 2130970, 2138971, 2139208, 2139380, 2141891, 2144671, 2145689, 2151453, 2151600, 2159178, 2160075, 2161765, 2164349, 2164374, 2164800, 2164902, 2164946, 2168862, 2174060, 2174611, 2175722, 2178919, 2178936, 2179104, 2188543, 2188811, 2205725, 2209687, 2211421, 2217817, 2217824, 2219929, 2222380, 2223058, 2223149, 2224883, 2226827, 2233013, 2237528, 2241882, 2243373, 2243722, 2244203, 2244763, 2247668, 2251428, 2252407, 2252438, 2252445, 2252462, 2252490, 2252494, 2252496, 2252508, 2254123, 2255038, 2257164, 2258961, 2258998, 2262255, 2264425, 2266345, 2266379, 2267897, 2268538, 2268596, 2271302, 2273360, 2275057, 2276452, 2277053, 2279466, 2280192, 2280246, 2281383, 2282711, 2287836, 2288649, 2292757, 2298859, 2307835, 2315011, 2317385, 2325420, 2329843, 2330218, 2330580, 2330597, 2330605, 2330611, 2334277, 2334293, 2334379, 2337490, 2339018, 2339255, 2340300, 2340321, 2343581, 2360744, 2365371, 2366373, 2370489, 2374219, 2379523, 2388952, 2389818, 2395592, 2396241, 2401511, 2406416, 2417346, 2418445, 2427692, 2431444, 2434674, 2435576, 2437923, 2438494, 2438754, 2438776, 2438798, 2438811, 2438832, 2439146, 2442946, 2443046, 2449976, 2452782, 2453387, 2453432, 2453537, 2466429, 2466790, 2469369, 2474311, 2476051, 2484535, 2487120, 2490097, 2502371, 2503029, 2511567, 2511751, 2511771, 2513725, 2519799, 2524462, 2529915, 2531399, 2534444, 2534463, 2535917, 2541732, 2541842, 2548540, 2554521, 2555352, 2561202, 2568877, 2570329, 2577348, 2578132, 2578149, 2578151, 2578156, 2578171, 2578173, 2578175, 2578177, 2578178, 2578180, 2582396, 2596134, 2598678, 2608383, 2611726, 2631655, 2634124, 2641112, 2641761, 2647759, 2656530, 2666715, 2670019, 2670812, 2672079, 2672086, 2698491, 2703985, 2706951, 2708031, 2708760, 2713403, 2714602, 2714678, 2716445, 2716536, 2719319, 2721414, 2721417, 2721420, 2724851, 2724890, 2724914, 2726119, 2727545, 2728258, 2729019, 2732359, 2738669, 2738730, 2740202, 2747567, 2749243, 2749800, 2751770, 2752067, 2753770, 2755413, 2761276, 2767408, 2775561, 2775826, 2775834, 2783655, 2787421, 2787932, 2791185, 2801510, 2806259, 2808411, 2808457, 2808727, 2810119, 2812791, 2814015, 2815108, 2819074, 2819526, 2836869, 2836908, 2842305, 2844238, 2846489, 2852308, 2854138, 2860031, 2872587, 2873004, 2883819, 2889754, 2892688, 2892721, 2898409, 2898864, 2901427, 2919084, 2924927, 2928481, 2932010, 2940577, 2946192, 2946734, 2948520, 2949389, 2950418, 2950436, 2950440, 2955716, 2956269, 2956336, 2956948, 2960189, 2961232, 2962356, 2963270, 2964246, 2968792, 2968811, 2971887, 2976432, 2977053, 2983075, 2983838, 2985300, 2987977, 2988114, 2988284, 2991021, 2991098, 2995412, 3007077, 3009355, 3013364, 3013384, 3017674, 3021212, 3030680, 3034623, 3038636, 3050003, 3052504, 3053746, 3053968, 3056341, 3057347, 3059024, 3059044, 3059280, 3059421, 3059428, 3062141, 3062648, 3062774, 3064131, 3064137, 3064676, 3070008, 3072459, 3073653, 3076956, 3078258, 3079332, 3079363, 3079549, 3085954, 3091545, 3098030, 3106664, 3107217, 3107579, 3107586, 3107593, 3107599, 3107648, 3107700, 3107729, 3107768, 3107775, 3107779, 3107786, 3107795, 3107805, 3107811, 3107832, 3107837, 3108549, 3108664, 3110734, 3115867, 3118612, 3120907, 3121889, 3125383, 3129105, 3131226, 3143981, 3144253, 3145032, 3148088, 3149307, 3154832, 3159720, 3160652, 3163538, 3168392, 3168404, 3170680, 3171717, 3171720, 3175050, 3178199, 3178220, 3178345, 3178379, 3180481, 3183226, 3183250, 3183266, 3183935, 3183940, 3183950, 3183964, 3183970, 3185244, 3185406, 3198351, 3200760, 3202716, 3204296, 3204545, 3214052, 3215089, 3215184, 3224802, 3228426, 3232220, 3232221, 3234580, 3287034, 3287038, 3287046, 3287061, 3287066, 3287070, 3292746, 3301970, 3302154, 3311674, 3312793, 3313194, 3313202, 3315412, 3320680, 3323540, 3324184, 3326099, 3326624, 3326910, 3329634, 3331338, 3343648, 3343672, 3344850, 3350558, 3351220, 3355328, 3355755, 3357801, 3360632, 3360654, 3364172, 3364924, 3369279, 3374465, 3375199, 3375739, 3386035, 3392533, 3397356, 3397993, 3403043, 3409137, 3417341, 3436308, 3437576, 3441757, 3441843, 3443160, 3443251, 3450041, 3457457, 3464326, 3467996, 3468805, 3475518, 3481193, 3489955, 3493522, 3510985, 3517566, 3524734, 3540301, 3541847, 3545050, 3556393, 3557673, 3560405, 3590673, 3593091, 3597897, 3601472, 3617845, 3618105, 3618258, 3639757, 3647453, 3659213, 3668614, 3710850, 3770982, 3774017, 3777646, 3777666, 3784766, 3784900, 3784925, 3784953, 3786429, 3799715, 3824867, 3825224, 3826229, 3829745, 3845915, 3847347, 3853086, 3865539, 3872786, 3872838, 3873170, 3875395, 3878020, 3878022, 3878024, 3878026, 3878029, 3878034, 3878037, 3889769, 3891185, 3892298, 3903429, 3906702, 3908608, 3908626, 3913221, 3915341, 3925849, 3926191, 3926862, 3927051, 3928272, 3929886, 3929905, 3937191, 3938552, 3938602, 3941143, 3949908, 3951298, 3974698, 3989249, 4013725, 4019503, 4032408, 4039974, 4042782, 4046470, 4046483, 4046490, 4046494, 4046501, 4052363, 4056181, 4060993, 4079071, 4080257, 4080516, 4080643, 4095472, 4096447, 4096548, 4097203, 4105387, 4106694, 4109510, 4119932, 4162038, 4166419, 4169846, 4171612, 4174071, 4174507, 4178075, 4181141, 4182308, 4193252, 4193854, 4194648, 4196671, 4196685, 4197768, 4198234, 4205249, 4209703, 4221156, 4229082, 4340801, 4341038, 4343681];

function Mark() {

    jQ('tr>td.ex_citizen>a').each(function (i, v) {
        var s = "" + v;
        var id = s.substring(s.lastIndexOf("/") + 1);

        var l = 0, h = orgs.length;

        while (h - l > 1)
        {
            var c = parseInt((h+l)/2);

            if (id <= orgs[c])
                h = c;
            else
                l = c;
        }

        if (orgs[h] == id)
            jQ(this).parent().css("background-color", "#babfa2");
    });
}

Mark();
jQ('.essentials').bind("DOMSubtreeModified", Mark);
jQ('.buy_mode').bind("DOMSubtreeModified", Mark);