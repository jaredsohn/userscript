// ==UserScript==
// @name           Anime torrent search links
// @namespace      http://www.google.com/search?q=brtkrbzhnv
// @description    Adds links to torrent searches and stuff to anidb, anime-planet, animenfo, myanimelist & animenewsnetwork
// @include        http://anidb.net/perl-bin/animedb.pl?show=anime&aid=*
// @include        http://www.anime-planet.com/anime/*
// @include        http://www.animenfo.com/animetitle*
// @include        http://myanimelist.net/anime*
// @include        http://www.animenewsnetwork.com/encyclopedia/anime.php?id=*
// ==/UserScript==
// 2009-03-22 update: MAL changed some stuff, so I had to change some stuff.
// 2009-04-14 update: Added Binsearch, Google Image Search & Tokyo Tosho
// 2009-07-21 update: Changed Tokyo Tosho to .info and refplaced BoxTorrents with BakaBT.
// 2010-04-05 update: Redesign of code (which happened to fix some bugs).
// 2010-07-13 update: Added KickAssTorrents and RapidOK.
// 2010-07-17 update: Added CRC searches to AniDB episode lists.
// 2011-01-01 update: Added YouTube.
// 2011-09-01 update: Added ability to disable/enable search links from the Greasemonkey menu + http://userscripts.org/topics/86243 stuff
// 2011-09-19 update: Fixed bug with dummy entries in Opera menu
// 2012-10-14 update: Various small fixes suggested in http://userscripts.org/topics/117301

// Converted with http://www.greywyvern.com/code/php/binary2base64:
var abimg= "data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAACMuAAAjLgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAIbhcwCG5PMAhuejAIbncwCG5LMAhuLDAIbk8wCG56MAhuhzAIbocwCG6HMAhuhzAIbnowCG5PMAhuFwAAAAAwCG5PMAhu0DAIbvowCG76MAhu0TAIbpkwCG7UMAhu+zAIbv4wCG7+MAhu/jAIbv4wCG77MAhu2jAIbnMwCG4WMAhueTAIbvptFe3/axXp/zAIb/8wCG7zPQuJ/20V7P9tFe3/bRXt/20V7f9tFe3/bRXt/z0LiP8wCG7YMAhuTTAIbnQwCG74bBvk/3Ec7f9HD5r/MAhu/0MOk/9xHO3/cBzs/1gUvP9SErD/YxjR/3Ec7f9vHOr/MAhu+jAIbnkwCG5PMAhu31EWqv92Je3/diXt/3Yl7f92Je3/diXt/2og2P8wCG7/MAhu/zAIbv92Je3/diXt/zAIbvswCG59MAhuITAIbqk+D4X+ey7r/3su6/98L+3/dizj/3wv7f9xKdr/MAhu/1AYo/9wKdr/fC/t/2Miw/8wCG7qMAhuXTAIbgYwCG5nMAhu7GUowf+COe3/WSGu/zAIbv+BOOz/dTLa/z8Rhf+AOOr/gjnt/3kz3/8wCG7/MAhuzzAIbkEAAAAAMAhuLjAIbrtIGJH/h0Lt/1Adnf8wCG7/hUDq/3w73f8wCG7/MAhu/3I0z/+HQu3/Xyiz/zAIbuEwCG5SAAAAADAIbgowCG55MAhu9Xk90/+MS+3/aDG8/4tK6/+DReH/RxmO/zEJb/9ZJqb/jEvt/4ZG5P8wCG7zMAhuaAAAAAAAAAAAMAhuQzAIbtVXJqH/kFPt/5BT7f+QU+3/kFPt/5BT7f+QU+3/kFPt/5BT7f9oNLj/MAhu4zAIblQAAAAAAAAAADAIbh8wCG6kRRmJ/pBV6P+UWO3/lFjt/5RY7f+UWO3/lFjt/5RY7f+UWO3/RhmJ/jAIbq4wCG4mAAAAAAAAAAAwCG4IMAhuWjAIbtAwCG76MAhu/jAIbv4wCG7+MAhu/jAIbv4wCG7+MAhu+zAIbtQwCG5cMAhuCAAAAAAAAAAAAAAAADAIbhYwCG5LMAhudzAIboYwCG6HMAhuhzAIbocwCG6HMAhuhzAIbnowCG5PMAhuFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AAD/DwAAgAMAAIABAACAAQAAgAEAAIABAADAAQAAwAEAAOABAADgAQAA4AEAAPADAAD8DwAA//8AAA%3D%3D";
var ytimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABTElEQVR4nJ2SMUjDUBCGvxeLIDhI4+JsQGc3B9GhpdBRcHLPWJzEzdU6dunk4lSl1KGL2sVF1EEURaklTgUnYycFoe05vCQmNq3Rf7n/7r377967Q0TkoVaQ7fykiIhk7Krsn7clKQgISOdA278guP14VBAgqH5aygkgdvEqKBC2AwLvL4cCSLPblw+P+wnNbn+ogEFC7G2YPPVkIJ7yiVJKExEmZtY4KeVQSmEXL5kbU/SW15lPGWTsakRAeW39GylaLcgv+npAQj0Bji9QMpsWHPf7wDLDDYLz+iMWhf5Eazom2S8zGkbk4sISOK52HVf7eLxc0bxcgetnqJ0BoSlE4E/Eh2Vqkc0dyGa9YHuEwG+tB09VMQKNBpFPvbnVfr0Ou1tgKO3f3cPqip5C5/Mt6HzYVoT2DKWLMzWeRokIWGYobdguxMQdV30Bqesirj55WZIAAAAASUVORK5CYII%3D"; 
var rokimg = "data:image/gif;base64,R0lGODlhEAAQALMPAOWXDI+crff39N3OopqtU3mTN+S5b+3o2M7S04OOoIymPHmEm4KBd6q7bKu3wf///yH5BAEAAA8ALAAAAAAQABAAAARr8MmHnJgYC4HC2cIHTkdgnkQTNs0knGaSDgMxSAiS7PxOpJdHYkFkMIZGxa/1OCAWDACAsSgorleXUWpMNRQsknQMGAgahY+YXH6gEZrDYGy4hYISuUFq2GTWZDd/DwJsbYMge2Z4gw+KjREAOw%3D%3D";
var katimg = "data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAABMLAAATCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHUFLcyFLV74bO0UuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeQEthLmNy+DVzhf81c4X/NXOF/ydUYdscPEUdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkTFeuN3WG/zh2iP84doj/OHaI/zh2iP84doj/M2t7/B9BS1IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlS1ecPHmM/zx5jP88eYz/WIyc/3OfrP9BfI//PHmM/zx5jP83b4D9IEFLPgAAAAAAAAAAAAAAAAAAAAAiQ0wzPXiJ/kB9j/9AfY//XZGg//b5+v//////4uvu/2iZp/9AfY//QH2P/zNkcu4AAAAAAAAAAAAAAAAAAAAAMl1q2UWBlP9FgZT/RYGU/73T2f///////f7+//L29//p8PL/RYGU/0WBlP9FgZT/KUxXgAAAAAAAAAAAJ0ZPHUeBk/9Khpj/SoaY/0qGmP/b5+r//////7vR2P9Khpj/bp6t/0qGmP9Khpj/SoaY/zlndOcAAAAAAAAAAC9SXIBPi53/T4ud/0+Lnf9Pi53/0eHm///////F2d//T4ud/0+Lnf9Pi53/T4ud/0+Lnf9Mhpf/KEZPEgAAAAA4YGu+VJCh/1SQof9UkKH/VJCh/8HX3f//////6/L0/1SQof9UkKH/VJCh/1SQof9UkKH/VJCh/y9QWVwAAAAAQGp31lmUpv9ZlKb/aZ6u/5u/yv/W5en////////////C2N//3urt/3Smtf9ZlKb/WZSm/1mUpv81WWOIAAAAAENseNRemar/Xpmq/3Wntv////////////////////////////////+VvMf/Xpmq/16Zqv9emar/OFtlhAAAAABCaHS+Y52v/2Odr/9nn7H/iLTC/4Kxv//0+Pn//////6zL1f9jna//Y52v/2Odr/9jna//Y52v/zdXYVwAAAAAPF5od2ehsv9nobL/Z6Gy/2ehsv9nobL/xtzi///////f6+//Z6Gy/2ehsv9nobL/Z6Gy/2Wdrv80UVoSAAAAADZTXBJkmqr+a6W2/2ultv9rpbb/a6W2/2ultv9rpbb/a6W2/2ultv9rpbb/a6W2/2ultv9SfovlAAAAAAAAAAAAAAAAS3J9xG+ouf9vqLn/XIuZ9GGTovpvqLn/b6i5/2+ouf9gkqD5Zpqp/W+ouf9vqLn/QWJsdwAAAAAAAAAAAAAAADtZYhdbipfxQWJrbgAAAAAAAAAAR2t2p2CRn/dBYmtuAAAAAAAAAABGanSgVH6L3wAAAAAAAAAA/j8AAPgPAADwBwAA4AMAAMADAADAAQAAgAEAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIABAADAAQAAxjMAAA%3D%3D";
var bbtimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAG1BMVEUAAADu0NXxqrD42+C6c3X1ytL0vcPwnqFYTk4v302HAAAAAXRSTlMAQObYZgAAAE1JREFUeF6tjlkKwEAIQxvX3v/EdTL7f4Mg7yHB57cYc6AyUxGHOhgcWwIvatQGw6HNKIzCRYInLl1EpngriVwXAq2E2O7oe7bej+wUf8jMAiOXX3BzAAAAAElFTkSuQmCC"
var ntimg = "data:image/x-icon;base64,AAABAAEAEBAQAAAAAAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8A//////////////////////////////////8AAAAA////////////////////////////////////////////////////////D///D/D///Dw//D//w//D/8PD///8PD///D/////D/////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";
var ttimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEUAAAD///+l2Z/dAAAAF0lEQVR42mNggIE/9TDkyPCnHBXBpeoBcPgS2r7xJnsAAAAASUVORK5CYII=";
var isoimg = "data:image/x-icon;base64,AAABAAEAEBAAAAEAGABoAwAAFgAAACgAAAAQAAAAIAAAAAEAGAAAAAAAQAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD39vX28e/5+fUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACkim2EWjTazb0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACkimdmMwDBq5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQv6qymH4AAACulH1mMwCpi3EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD08O16UCaAXDPs5N/Mu6xmMwCgfl8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD7+viadFNzRRPl3tjn39dyRBaJYz4AAAAAAAAAAAC7qJaQbUvfzsYAAAAAAAAAAAAAAAC1m4ZmMwDGs57p4tqFXjh9VCXo4dgAAAAAAADZyrx1SByMbEUAAAAAAAAAAAAAAADJvKtsPQujh2n7+/qUd1dmMwB1Rxl3SRx3SRx1RxlmNAGKZj/l2NMAAAAAAAAAAADk1c5wQBGNZ0H18O2niGNmMwBtPA52SRx2SRx2SRxtPQxoNQPl2tQAAAAAAAAAAADz8eyHXz9xQxXt6OTMvrNpNwW1mYQAAAAAAAAAAACxloNmMwC6p40AAAAAAAAAAAAAAACjgGJsOgrTx7Xs49uFXjeXdlXv6uMAAAAAAADXzb9sPAujgWYAAAAAAAAAAAAAAAC/rZlmNAG4n4gAAAAAAAAAAAAAAAAAAAAAAADn39d3TCGDWS7PwbQAAAAAAAAAAADx7ei6pI7Yyr0AAAAAAAAAAAAAAAAAAAAAAAAAAACJZD9rOgrIs54AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADGsZxmMwCkjnAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADSwLdtPQqDWjL08vAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADy7uju6eQAAADx/wAA8f8AAPH/AACR/wAAAf8AAAHHAACAxwAAgAMAAIADAACA4wAAwGMAAMfhAADH8QAA//EAAP/wAAD/+QAA";
var bsimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0klEQVR4nK2SsY2EMBBF3542dAHkuAAKIKABMhIiaqAAIgogchcUQEYLU4DJp4DJ76JDC+g4VuyPrNGfL38/P4qi+OaGvu4sAzz3g2EY1nPbtu8HZFn21g0+X+FVTdNQVRXOOUSEEAIxxo3nsacwz/OfgapKXdeb2WmFEAJlWaKqACRJQp7n1wPGccTMmKZpnaVpej3gik4DfpG+ol2WZeM5pdD3PaqK9x4AM0NErgWICGa2PpqZ0XUdZrbxHTDu5b3HOUeM8bD8bwXg8HH2uk3hBx7SSTWjk/NbAAAAAElFTkSuQmCC";
var wpimg = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAQABADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD1rUfGfiC2k8Y2ENnYz6zooS7toRHIEurRxnP3/v8ADj0yPer1l4t1DW9F/tTQ2sTa300EGmNNE/7zdjzGPzDIHz9MH5DTPH+iasfE2g674agEt6m7TbwF8D7NJzvI6fIRkfWoPh34V1Lw/rFzpV2DJoWlSNLpUztlpPOHzA/7nzj/ALaUAf/Z";
var gimg ="data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8A//3/AP39/wD6/f8A+P3/AP/8/wD9/P8A+vz/AP/7/wD/+v8A/vr/APz6/wD4+v8A+/n/APP5/wD/+P8A+vj/AO/4/wDm+P8A2fj/AP/3/wD/9v8A9vb/AP/1/wD69f8A9PT/AO30/wD/8/8A//L/APnx/wD28P8A///+APj//gD2//4A9P/+AOP//gD//f4A6f/9AP///AD2//wA8//8APf9/AD///sA/v/7AOD/+wD/+vsA9/X7APr/+gDv/voA///5AP/9+QD/+/kA+e35AP//+ADm//gA4f/4AP/9+AD0+/gA///3APv/9wDz//cA8f/3AO3/9wD/8fcA//32AP369gDr+vYA8f/1AOv/9QD/+/UA///0APP/9ADq//QA///zAP/18wD///IA/fzyAP//8QD///AA9//wAPjw8AD//+8A8//vAP//7gD9/+4A9v/uAP/u7gD//+0A9v/tAP7/6wD/+eoA///pAP//6AD2/+gA//nnAP/45wD38eYA/fblAP/25AD29uQA7N/hAPzm4AD/690AEhjdAAAa3AAaJdsA//LXAC8g1gANH9YA+dnTAP/n0gDh5dIADyjSABkk0gAdH9EABxDRAP/l0AAAJs4AGRTOAPPczQAAKs0AIi7MAA4UywD56soA8tPKANTSygD/18kA6NLHAAAjxwDj28QA/s7CAP/1wQDw3r8A/9e8APrSrwDCtqoAzamjANmPiQDQj4YA35mBAOmefgDHj3wA1qR6AO+sbwDpmm8A2IVlAKmEYgCvaFoAvHNXAEq2VgA5s1UAPbhQAFWtTwBStU0ARbNNAEGxTQA7tEwAObZIAEq5RwDKdEYAULhDANtuQgBEtTwA1ls3ALhgMQCxNzEA2FsvAEC3LQB0MCkAiyYoANZTJwDLWyYAtjMlALE6JACZNSMAuW4iANlgIgDoWCEAylwgAMUuIAD3Vh8A52gdALRCHQCxWhwAsEkcALU4HACMOBwA0V4bAMYyGgCPJRoA218ZAJM7FwC/PxYA0msVAM9jFQD2XBUAqioVAIAfFQDhYRQAujMTAMUxEwCgLBMAnxIPAMsqDgCkFgsA6GMHALE2BAC9JQAAliIAAFYTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AsbGxsbGxsbGxsbGxsbGxd7IrMg8PDw8PDw8PUBQeJXjQYE9PcKPM2NfP2sWhcg+BzTE7dLjbmG03YWaV4JYye8MPbsLZlEouKRRCg9SXMoW/U53enGRAFzCRtNO7mTiAyliw30gRTg9VbJCKfYs0j9VmuscfLTFbIy8SOhA0Inq5Y77GNBMYIxQUJzM2Vxx2wEmfyCYWMRldXCg5MU0aicRUms58SUVeRkwjPBRSNIfBMkSgvWkyPxVHFIaMSx1/0S9nkq7WdWo1a43Jt2UqgtJERGJ5m6K8y92znpNWIYS1UQ89Mmg5cXNaX0EkGyyI3KSsp6mvpaqosaatq7axsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%3D";
var giimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADCklEQVR4nCXSy2ucVRjA4d97zvdNJpPJbTJJE9rYaCINShZtRCFIA1bbLryBUlyoLQjqVl12W7UbN4qb1gtuYhFRRBCDBITaesFbbI3RFBLSptEY05l0ZjLfnMvrov/Bs3gAcF71x6VVHTk+o8nDH+hrH89rUK9Z9Yaen57S3wVtGaMBNGC0IegWKIDxTtVaOHVugZVmH3HX3Zz+4l+W1xvkOjuZfPsspY4CNkZELEgEIJKwYlBjEwjec/mfCMVuorVs76R8+P0KYMmP30U2dT8eIZqAR2ipRcWjEYxGSCRhV08e04oYMoxYLi97EI9YCJ0FHBYbIVGDlUBLwRlLIuYW6chEmQt/rJO09RJjhjEJEYvJYGNhkbUhw43OXtIWDFRq9G87nAaSK6sVRm8r8fzRMWbOX2Xx7ypd7ZET03sQhDOz73DqSJOrd+7HSo4QIu0Nx/4rOzx+cRXZ9+z7+uqJ+3hiepxK3fHZT2tMjXYzOtzL6dmznPzhLexgN0QlxAAYxAlqUqRmkf5j59RlNQ6MFHhgcpCTTx8EUb5e+plD7x4jjg1ANCAgrRQAdR7xKXjBlGyLYi7PxaUmb8z8xcpGHVXLHaXdjI0egKyJiQYTEhSPREVIEUBNC+Mqm+xpz3j0njLPHB2nsh1QgeG+IS48dYbD5YNoo0ZUAbVEuTUoKuBSZOarX/WhyQn6eg2+usDWf0s0tq8zNPYk+WI/Lnge++hlvlyfQ3NdECzGRWKwEEA0qNY251n69kV6+Y0kbaCZoebG2X3oU7pKoyxuXOPe945zs9DCeosGIXoBDyaLdf6ce4Hbk+/Y299ksKtAuaeNsiyw8c1LKIZ95b0MdgxA5giixACpTxEPSau6QdFfI5/2cLPmEW+JAQrtJUJzDXF1dkwHzVodJMX4HFEcQQMaFdPeM0Jb/4PUtzzaLKAhRyJFwo6lbegRNFfk819muV5dR4JBQoQdQ2xFiDmSNDHiaptamR9Gq5cQ18AledrGDpOfeI5Lq8u88smbhMRisoSAgAYghdfn5H/JkHuRB5lxEwAAAABJRU5ErkJggg%3D%3D";
var amazonimg = "data:image/x-icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAA1NTcA////ADyn8QCampsANkNOADqLwwDZ2doAO5LOADhgfQA5daAAO5naAE5OUAA8oOUANTxDAEJCRADm5uYAOoO3AMrKygBoaGkAW1tdADdSZgA3WXEAgYGCAKenqADy8vMAdHR2ADZKWgA5bpQAhcHqAI2NjwCzs7QAOGeIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAUJCAQAAAAAAAAAAAAAFgICAgICCgkEAAAAAB8NAAAFCgICAgICAgUUAAAJBwAAAAAAGhUJBwICAhAEGgIIAAAAAAAAAAAECAUCDAQKBwAAAAAAAAAAAAAABBsNBQINAAsDAxYAHQ4VBQUbEAwCFAAPAQEBDwEGAAgQDAICBwQSAQEDFwEBBgAAAAAAAAAAEwEBGQABAQMAAAAAAAAAAAAGARgXAQEDAAAAAAAAAAAADgMRGAEBAwAAAAAAAAAAABERCwABAQMAAAAAAAAAAAARAQ8GAQEZAAAAAAAAAAAAEwYBAQEeAAAAAAAAAAAAAwAACxIOAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%3D";
var demimg = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBmRXhpZgAASUkqAAgAAAAEABoBBQABAAAAPgAAABsBBQABAAAARgAAACgBAwABAAAAAgAAADEBAgAQAAAATgAAAAAAAABgAAAAAQAAAGAAAAABAAAAUGFpbnQuTkVUIHYzLjM2AP/bAEMAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/bAEMBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIABAAEAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AP1X/Ze/av8A+Cg/jrw14gPhH9r74b694Q1X46/tNeDtU8c/Fn4FeEPiWngDTPhX8fvir4V8OX/wi+IXgb4ufBfQ/F3w+8ceGPCWiWvhy+1zQvjLf6NBr+kzWM1l4ai0WJvN/wBsb9tr9vX4bfAT4maxrX7ZfgK4+H/hz4YeOPG9r43+DP7O0nwd+O3irxHYWDp4c+FuseLtU+Mnxi8OeBNK8Qautldatr/g34Y+FPifpOkanc6P4I8TeEvEGljxBbfL/wAJPjR+yB+xv8U/it+yv+1NceMPHLeBfi/8Qv2fIPjtrHhjVPFXwZ8TfCrw9e+FfGGhQ6Pa+GtFs/BHw/8AHPgK0hPwi+IfgHwF4YS+8K/ElfibFc6pD4WvrG2usn9qX9uT9jT9pdbLTvAGieDfgjNrtn4j1T4iftMeMfD3hz4c/DX4Z/Cv4KoyeJrrS5tU0BrP9oPx74u8BXHj3UPAf7Mfg3QfF7/FPxFq1hH4m8NSaRoeqalpX8xLh7xVxOcVKtPx14ceFxWayngeC8LhuHcxxNGhGrLESwKzfEwWcU6kcNCpD29BOvGMG1GzkjaX1blahJudrJtvR6LRdO9ujsf/2Q%3D%3D";
var imimg = "data:image/x-icon;base64,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%3D";
var adimg = "data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoAwAAFgAAACgAAAAQAAAAIAAAAAEAGAAAAAAAQAMAAAAAAAAAAAAAAAAAAAAAAACUhoGUhoGUhoGShoKThoKUhYGXioackIyglI6hlY+ZjIiUh4KYioOYioScj4qhlI2ttb6rs76ss720tr+3ucC5u76bmJlwa21jXmNeWV+YmJ6vtcWLlraMkrlVUH88L2Hc8P/T7f/U7//d8f/n8f/V3eSVmaQnKVYuNX1QV4lVWWigq8CWqt6JnNtea7cEAFjT4/3Q6PzQ5//Q6P/U5PXn7e+aoKQpKV8UF1sxL0VIQkZGREg+P1AkKlR+j8wrIXS50fPN5vrU5v7Q5v7O5/jy/f+2trd3d4ptbn0AAAA6NDhYUkwmHhsIACtjba5BRpGhvfPK4P7b6P/T6f7Q6P7h7frm6eyurq6Cf35aVFSfnaCLhn0tJiAeEkUyLnxga7Srv/HP3//U5/3Q6f7P5P/X5fry+P+fo6VXV1rv8vP///+8uawqIyIiGVkPB2FucMHN3fbR4f/O5f/P6P/O4v7P4vvb6/Xl7+/c3dz+/fjf3dGIgXIxLzYtKHIHAF1UUKfh8f/T4/7Q5//Q6v/R5//R6PzR5fPg5uT//+zm3MCtpJBXUUg+Q144N4kLAGYzKZjN2OPa7f/Q6P7P5vrP5vjS6/3N4fSZmqSnnYqWh3BRRzoTDyB4frk7NpYSAHAsEKuDiZPe8//Q5/7A0unL3PHV5//S4vlla4gsKjcAAAA9QEZFRHd7f802MJEYAIIqCMSNjpDY5/LZ6/6rt8+4yuXI3f27zPJHS4FgZJCEkp68yNxJRJFbXK8xKJMgAKQwBtrv59LU3d/h8P+Vnrp/kMOmxfiSrOktMIpMUqPP4/+9zfEiGntJRKI/K74uA888BO1mXE2Gj6bV7P+fqco7QZaWs/iPrestM5UmKI+bsOFxgbETCIJFNbhLIulNHudIGOkyLkdlbJS3xuOwtM09N3qVoM+nt9pWVZYxKXhnbZiHjq1IM6VWPcJeN9N6Vs9vUsyqn56mnJukmZepnZmklpWmmJWnm5immZailJKnm5uuop+ll5ullpykl5eonJeompgAAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//";
var apimg = "data:image/gif;base64,R0lGODlhEAAQAPcAAG57w3eCw3uI4IaLqZGZyIeT5J2m2Zmj56eu0q2136Ot66ex66q07K627a+47rG67ra+77i/47zD8MjL3sLI6MPJ8szR8Njb79nd997i9+Ll9OHl+Ofp9ejq9+jq+uvt++7w+u/x/fLy8vHz/fP0/PT1/PT2/fb4/vr6+vn6/vv8//39/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAEAAQAAAI+wAnWKgA4YFBgwULMjgAAIIEBQUEHMjgwcOHDxUKRASwYEGBBR9OrDiRYoWIDiYYFACggIEEFCVSjAhh4kSCBBdUQAjAAMIJDggoqChJIQEFAxpCBHDgoYQBCwYirOhgoKaFDiomQEhxIcEKDjmHmiABAgQKDVszoFixYuiJESA2YNgAQsRWtipUjKig4ECBvhLKQiDRVoDhBxYsfPBwgMKIDxI+tK1wwAOIix4wCMiwIoOECjFHtKyAwcOGAw1AlCAgQUIGkh4gNND4lwSJDAQqVFiAYcSKFCZA0FxBAoPHBA4WMGCwYcSJE2M9OGBggMCA6gSyZ0egvXtAADs%3D";
var animg = "data:image/x-icon;base64,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%3D";
var malimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAElBMVEUHRJ1ccbK8yONEYaz+//ysu9uh6UifAAAAMklEQVQYlWNgGCSAGQRgJEiAFQRgJFgAAoEKmBiYQAIsEAgCQBohAGExMjKiCoCUEQQATVUA3Xgr/coAAAAASUVORK5CYII="
var annimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABKElEQVR42mNgoCaYeYZhDhD/h+Jfs84wVBKtecYZhk9ImsF41lkgPsNwk7DNpxmmIGtccJHhUNd+UQlSnP4bpnnxZYZSsGDCwi0MqbP/g3Hy7G0M9fUs+AyA2XwLLJA66z9D2kxMjMsQoOY3IAP6DvHYM8QvXolVMwgnT1sLVMyFGYBnGYJABuRuU2FnSJ73HbcBU38yTD4iBQy0C9hcsbRyq5IaQ+L8z3hc8JVh0gkZoOL/QFsLsBnCypCwaBJOA1KmTWKYdbYNYsDpL7ijJW3mByy2f4Ta8h+O8YLkaY1A/BSMU2fUgMVmnX2DZMB3/AbMPcLLMPmkDxC7M8w+vxzFZogXaohIYadXYGgEaz5zk/gcNuOsB9CgW0CN/4D4BcOsM1lUzcEAhCb+AkCTgVsAAAAASUVORK5CYII%3D";
var nrimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAFVBMVEUAAADKtkkAAgD53FTv6/HVlbFxDjyt5SniAAAAAXRSTlMAQObYZgAAAEtJREFUeF5tzTESAjAMA8FIDvz/ycCOoeIaj7ZIjqojc/SlWiKdjLLS3H7IqQ32FNyACzqJRxwgLeT56y+QzbcLj3eABMQmjWqrMl4/TgJ7rPhjygAAAABJRU5ErkJggg==";
var ftimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAYFBMVEUAAAADWY4GXZIKYZcOZpwTa6IYcaged64jfbQog7suicEzj8c4lM08mdJAnddDodtGpN5Wl79am8ReoMhhpM1mqNJprdaIv+HB2ejD2+nE3OvG3u3H4O7J4fDk8fj////78W6fAAAAQElEQVQYlWOShwIBKGBigIL/UECUwEMgAApwCQGBIFgF0EigwJc33/+9eYvdDIgWJAGIFlKslYcJfHlLrBYCAgCaWXohalhKKgAAAABJRU5ErkJggg==";

var searches = new Array();
searches.push({alt:"AnimeBytes", template:"http://animebytes.tv/series.php?name=%title%", img:abimg});
searches.push({alt:"BakaBT", template:"http://www.bakabt.me/browse.php?q=%title%", img:bbtimg});
searches.push({alt:"NyaaTorrents", template:"http://www.nyaa.eu/?page=search&sort=5&term=%title%", img:ntimg});
searches.push({alt:"Tokyo Toshokan", template:"http://www.tokyotosho.info/search.php?terms=%title%", img:ttimg});
searches.push({alt:"KickAssTorrents", template:"http://www.kat.ph/search/%title%/", img:katimg});
searches.push({alt:"Binsearch", template:"http://binsearch.info/index.php?m=&max=100&adv_g=&adv_age=240&adv_sort=date&minsize=&maxsize=&font=&postdate=&q=%title%", img:bsimg});
searches.push({alt:"RapidOK", template:"http://rapidok.com/search/all/1/%title%", img:rokimg});
searches.push({alt:"#NEWS@rizon", template:"http://news.is-fabulo.us/?search=%title%", img:nrimg});
searches.push({alt:"YouTube", template:"http://www.youtube.com/results?search_query=%title%", img:ytimg});
searches.push({alt:"FilesTube", template:"http://www.filestube.com/search.html?q=%title%", img:ftimg});

searches.push({alt:"Wikipedia", template:"http://en.wikipedia.org/wiki/Special:Search?search=%title%", img:wpimg});
searches.push({alt:"Google", template:'http://google.com/search?q="%title%"', img:gimg});
searches.push({alt:"Google Image Search", template:'http://images.google.com/images?q="%title%"', img:giimg});
searches.push({alt:"Amazon", template:"http://www.amazon.com/s/?search-alias=popular&field-keywords=%title%", img:amazonimg});
searches.push({alt:"IMDB", template:"http://www.imdb.com/find?s=all&q=%title%", img:imimg});
var anidb, ap, an, man, ann;
searches.push(anidb = {alt:"AniDB", template:"http://anidb.net/perl-bin/animedb.pl?show=animelist&adb.search=%title%", img:adimg});
searches.push(ap = {alt:"Anime-Planet", template:"http://www.anime-planet.com/search.php?search_type=all&search=%title%", img:apimg});
searches.push(an = {alt:"AnimeNfo", template:"http://www.animenfo.com/search.php?&queryin=anime_titles&option=keywords&query=%title%", img:animg});
searches.push(man = {alt:"MyAnimeList", template:"http://myanimelist.net/anime.php?q=%title%", img:malimg});
searches.push(ann = {alt:"Anime News Network", template:"http://www.animenewsnetwork.com/search?type=all&q=%title%", img:annimg});

var crcSearches = new Array();
crcSearches.push({alt:"Tokyo Toshokan", template:"http://www.tokyotosho.info/search.php?terms=%crc%", img:ttimg});
crcSearches.push({alt:"KickAssTorrents", template:"http://www.kickasstorrents.com/search/%crc%/", img:katimg});
crcSearches.push({alt:"Binsearch", template:"http://binsearch.info/index.php?m=&max=100&adv_g=&adv_age=240&adv_sort=date&minsize=&maxsize=&font=&postdate=&q=%crc%", img:bsimg});
crcSearches.push({alt:"RapidOK", template:"http://rapidok.com/search/all/1/%crc%", img:rokimg});
crcSearches.push({alt:"Google", template:'http://google.com/search?q="%crc%"', img:gimg});

var sites = new Array();
sites.push({alt:"AniDB", path:"//h1", url:"anidb", titlePath:"//tr[@class='g_odd romaji']/td[@class='value']", pattern:/Anime: (.*)/, titlePattern:/(.*)/, search:anidb, postProcess:crcFunction});
sites.push({alt:"Anime-Planet", path:"//h1", url:"anime-planet", pattern:/(.*)/, search:ap});
sites.push({alt:"AnimeNfo", path:"//h1", pattern:/Anime : (.*)/, url:"animenfo", search:an});
sites.push({alt:"MyAnimeList", path:"//div[@id='contentWrapper']/h1", pattern:/<div.*div>(.*)/, url:"myanimelist", search:man});
sites.push({alt:"Anime News Network", path:"//h1[@id='page_header']", pattern:/(.*)\s\(.*?\)/, url:"animenewsnetwork", search:ann});

function main() {
	for(i = 0; site = sites[i]; ++i) if (location.href.match(site.url)) doSite(site);
	populateMenu();
}
function populateMenu()	{
	for(var i = 0; i < searches.length; ++i) GM_registerMenuCommand("Toggle " + searches[i].alt + " link", toggleSearchFunction(searches[i]));	
}
function toggleSearchFunction(search)	{
	return function() {
		var disabled = GM_getValue(alt = search.alt, false);
		if(disabled) GM_deleteValue(search.alt); else GM_setValue(search.alt, true);
		search.imgElement.style.display = disabled ? "inline" : "none";
	}
}
function doSite(site) {
  x(site.path).appendChild(makeLinks(site));
  if(f = site.postProcess) f();
}
// add some links for the crc on anidb
function crcFunction() {
  var episodeDiv = x("//div[@class='g_section episodes']");
  episodeDiv.addEventListener("DOMNodeInserted", crcHandler, false);
}
function crcHandler(event) {
  if(event.target.getAttribute("class") != "filelist") return;
  spans = xpath(".//span[@class='i_icon i_crc_yes']", event.target);
  for(var i = 0; s = spans.snapshotItem(i); ++i) {
    if(xpath("./span[@class='linkContainer']", s).snapshotLength > 0) return;
    crc = s.getAttribute("title").match(/\((.*)\)/)[1];
    s.parentNode.appendChild(document.createTextNode(" _ "));
    s.parentNode.appendChild(makeLinks({}, crcSearches, crc));
  }
}
// Create all the links and return a span containing them
function makeLinks(site, _searches, _crc) {
	var container = document.createElement("span");
	container.setAttribute("class", "linkContainer");
	var parameters = {title:getTitle(site), crc:_crc};
	for(j = 0; search = (if2(_searches, searches))[j]; ++j) if(search != site.search) addLink(container, search, parameters);
	return container;
}
// Return the title of the series in question.
function getTitle(site) {
	return extract(if2(site.titlePath, site.path)).match(site.titlePath ? site.titlePattern : site.pattern)[1].replace(/`/g,"'").replace(/\?/g,"").replace(/\s/g,"+");
}

// Put the specified link in container. 
function addLink(container, search, parameters) {
	var a = document.createElement("a"); a.href = makeUrl(search, parameters);
	var img = document.createElement("img"); img.src = search.img; img.alt = search.alt;
	a.appendChild(img);
	img.style.border = "none"; img.style.display = "inline"; a.style.border = "none";
	container.appendChild(document.createTextNode(" "));
	container.appendChild(a);
	search.imgElement = img;
	search.aElement = a;
	if (GM_getValue(search.alt, false)) img.style.display = "none";
}
function makeUrl(search, parameters) {
	var url = search.template;
	for(p in parameters) url = url.replace('%'+p+'%', parameters[p])
	return url;
}
function if2(x, y) {
  return x ? x : y;
}
// Extract innerHTML of path and replace some URI-unfriendly stuff.
function extract(path, e) {
	return x(path, e).innerHTML.replace("&amp;","%26");
}
function x(query, element) { 
  return document.evaluate(query, if2(element, document), null, XPathResult.ANY_UNORDERED_NODE_TYPE, null).singleNodeValue; 
}
// From Dive Into Greasemonkey:
function xpath(query, element) {
	return document.evaluate(query, if2(element, document), null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);
}
main();